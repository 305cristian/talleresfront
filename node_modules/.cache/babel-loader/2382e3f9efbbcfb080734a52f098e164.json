{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN DEP IT\\\\Documents\\\\NetBeansProjects\\\\talleresfront\\\\src\\\\components\\\\AdminResultados.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { render } from 'react-dom';\nimport { Container, Table, Modal, ModalHeader, ModalBody, Row, Col, Button } from 'reactstrap';\nimport Navigation from '../components/Navigation';\nimport axios from 'axios';\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle, faExclamationCircle, faFileDownload, faTimesCircle, faExclamationTriangle } from '@fortawesome/free-solid-svg-icons'; //Bootstrap and jQuery libraries\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'jquery/dist/jquery.min.js'; //Datatable Modules\n\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport $ from 'jquery';\nimport 'datatables.net-buttons-dt';\nimport 'datatables.net-buttons/js/buttons.colVis.js';\nimport 'datatables.net-buttons/js/buttons.html5.js';\nimport 'datatables.net-buttons/js/buttons.print.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  REACT_APP_HOST\n} = process.env;\nvar t_c = [];\nvar talleres_comp = [];\nvar respuestas_consolidado = [];\n\nclass AdminResultados extends Component {\n  constructor() {\n    super();\n    this.state = {\n      talleres: [],\n      usuarios: [],\n      user_talleres: [],\n      //Modal\n      modalOpen: false,\n      puntuacion: '',\n      resultados: [],\n      //Para el consolidado\n      preguntas: [],\n      resultados_taller: [],\n      modalOpen_consolidadod: false\n    };\n  }\n\n  componentDidMount() {\n    this.getTalleres(); //initialize datatable\n  }\n\n  getTalleres() {\n    axios.get(`${REACT_APP_HOST}/api/talleres`).then(response => {\n      this.setState({\n        talleres: response.data\n      });\n      this.getUsuarios();\n    });\n  }\n\n  getUsuarios() {\n    axios.get(`${REACT_APP_HOST}/api/users`).then(response => {\n      this.setState({\n        usuarios: response.data\n      });\n      this.getUserTaller();\n    });\n  }\n\n  getUserTaller() {\n    axios.get(`${REACT_APP_HOST}/api/user_taller/`).then(response => {\n      this.setState({\n        user_talleres: response.data\n      });\n      console.log('======>> ' + response.data);\n      this.datatabla();\n      this.usuarios_nota();\n    });\n  }\n\n  usuarios_nota() {\n    var returnedobj = [];\n    this.state.usuarios.map(data => {\n      this.state.user_talleres.map(data2 => {\n        if (data._id === data2.id_user) {\n          returnedobj = Object.assign(data, {\n            puntuacion: data2.puntuacion\n          });\n        } else {}\n      });\n    });\n  }\n\n  datatabla() {\n    $(document).ready(function () {\n      $('#resultados').DataTable({\n        language: {\n          url: \"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json\"\n        },\n        dom: \"<'row'<'col-sm-12 col-md-12 text-left'B>>\" + \"<'row'<'col-sm-12'tr>>\" + \"<'row'<'col-sm-12'tr>>\" + \"<'row'<'col-sm-12 my-1'>>\" + \"<'row'<'col-sm-12 col-md-5 text-left'l><'col-sm-12 col-md-7'f>>\" + \"<'row'<'col-sm-12'tr>>\" + \"<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>\",\n        buttons: [// 'copy', 'csv', 'excel', 'print'\n        {\n          extend: 'copy',\n          text: 'Copiar',\n          titleAttr: 'Copiar Tabla',\n          className: 'btn btn-info btn-sm '\n        }, {\n          extend: 'csv',\n          text: 'Excel',\n          titleAttr: 'Copiar Tabla',\n          className: 'btn btn-success btn-sm  '\n        }, {\n          extend: 'print',\n          text: 'Imprimir',\n          titleAttr: 'Copiar Tabla',\n          className: 'btn btn-dark btn-sm  '\n        }]\n      });\n    });\n  }\n\n  marcarCompletado(user, index) {\n    //        alert(user);\n    var taller_completado = [];\n    var returnedobj = [];\n    this.state.talleres.map((taller, i) => {\n      var estado = '0';\n      var puntuacion = '';\n      this.state.user_talleres.map((user_taller, j) => {\n        if (user === user_taller.id_user) {\n          if (taller._id === user_taller.id_taller) {\n            estado = '1';\n            puntuacion = user_taller.puntuacion;\n          }\n        }\n      });\n\n      if (estado === '1') {\n        returnedobj = Object.assign(taller, {\n          estado: '1',\n          puntuacion: puntuacion\n        });\n        console.log(user + '--' + taller._id + '--' + puntuacion + '  est:1');\n        console.log(returnedobj);\n      } else {\n        returnedobj = Object.assign(taller, {\n          estado: '0'\n        });\n      }\n\n      taller_completado.push(returnedobj);\n    }); //        console.log(taller_completado);\n\n    talleres_comp = taller_completado; //        console.log('--- ',talleres_comp)\n  }\n\n  getNotas(id_user, id_taller) {\n    axios.get(`${REACT_APP_HOST}/api/user_taller/` + id_user + '/' + id_taller + '/0').then(response => {\n      if (response.data) {\n        this.setState({\n          puntuacion: response.data.puntuacion\n        });\n      }\n    });\n  } //ABRE MODAL RESULTADOS\n\n\n  modalOpen(id_user, id_taller, puntuacion) {\n    this.getNotas(id_user, id_taller);\n    this.setState({\n      modalOpen: true\n    });\n    this.showResultados(id_user, id_taller);\n  }\n\n  showResultados(id_user, id_taller) {\n    axios.get(`${REACT_APP_HOST}/api/resultados/` + id_user + '/' + id_taller).then(response => {\n      this.setState({\n        resultados: response.data\n      });\n    });\n  }\n\n  hideModalEval() {\n    this.setState({\n      modalOpen: false\n    });\n  } //CIERRA MODAL RESULTADOS\n  //ABRE MODAL CONSOLIDADO\n\n\n  show_consolidado(id_taller) {\n    this.setState({\n      modalOpen_consolidadod: true\n    });\n    this.show_consolidado_data(id_taller);\n  }\n\n  show_consolidado_data(taller_id) {\n    axios.get(`${REACT_APP_HOST}/api/preguntas/` + taller_id).then(response => {\n      this.setState({\n        preguntas: response.data\n      });\n      this.get_resultados(taller_id);\n    });\n  }\n\n  get_resultados(taller_id) {\n    axios.get(`${REACT_APP_HOST}/api/resultados/` + taller_id).then(response => {\n      this.setState({\n        resultados_taller: response.data\n      });\n    });\n  }\n\n  respuestas_user(id_user) {\n    var respuestas_consol = [];\n    this.state.preguntas.map((preg, i) => {\n      this.state.resultados_taller.map((resp, j) => {\n        if (preg._id === resp.id_preg && id_user === resp.id_user) {\n          //                        alert(id_user+'  '+ preg.pregunta+'  : '+resp.resp)\n          respuestas_consol.push(resp.resp);\n        }\n      });\n    });\n    respuestas_consolidado = respuestas_consol;\n  }\n\n  hideModal_consolidado() {\n    this.setState({\n      modalOpen_consolidadod: false\n    });\n  } // CIERRA MODAL CONSOLIDADO\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }, this), this.state.user_talleres.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerList my-3\",\n        style: {\n          overflowX: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Resultados de los Talleres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"resultados\",\n          className: \"table table-nowrap\",\n          style: {\n            fontSize: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 53\n              }, this), this.state.talleres.map((data, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success btn-sm\",\n                  onClick: () => {\n                    this.show_consolidado(data._id);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faFileDownload\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 112\n                  }, this), \" Exportar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 104\n                }, this)\n              }, data._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 85\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 49\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-dark text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"USUARIO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"CEDULA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 53\n              }, this), this.state.talleres.map((data, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n                children: data.title\n              }, data._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 85\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.usuarios.map((data, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: [data.nombre, ' ', data.apellido]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 69\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: data.cedula\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 69\n              }, this), this.marcarCompletado(data._id, index), talleres_comp.map(data2 => /*#__PURE__*/_jsxDEV(\"td\", {\n                children: data2.estado === '1' ? /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  onClick: () => {\n                    this.modalOpen(data._id, data2._id);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \" text-success\",\n                    children: [\"Completo \", data2.puntuacion, \" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faCheckCircle\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 204\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 144\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 129\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-warning badge\",\n                  children: [\"En curso \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faExclamationCircle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 181\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 135\n                }, this)\n              }, data2._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 101\n              }, this))]\n            }, data._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 65\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 37\n      }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-warning\",\n        children: [\"! No se ha gerenado ninguna capacitacion para poder mostrar resultados \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faExclamationTriangle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 131\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.modalOpen,\n        size: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-2 border\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: \"11\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Resultados de La evaluaci\\xF3n  \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge bg-success text-white\",\n                  children: [this.state.puntuacion, \"/10\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 66\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: \"1\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"danger\",\n                size: \"sm\",\n                onClick: () => {\n                  this.hideModalEval();\n                },\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12\",\n            children: this.state.resultados.map((data, index) => {\n              return /*#__PURE__*/_jsxDEV(Container, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [index + 1 + ')', \" \", data.preg_taller.pregunta]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 61\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 121\n                }, this), data.estado_resp === '1' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-success\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"ml-5\",\n                    children: data.resp\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 120\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 89\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-danger font-weight-bold\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"ml-5\",\n                    children: data.resp\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 152\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 105\n                }, this)]\n              }, data._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 61\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.modalOpen_consolidadod,\n        style: {\n          maxWidth: '1300px',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(ReactHTMLTableToExcel, {\n          id: \"btn-export-excel\",\n          className: \"btn btn-success\",\n          table: \"consolidado\",\n          filename: \"Consolidado de Respuestas\",\n          sheet: \"HOJA 1\",\n          buttonText: \"Descargar as XLS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" my-3\",\n            style: {\n              overflowX: 'auto'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              id: \"consolidado\",\n              className: \"table table-nowrap\",\n              style: {\n                fontSize: '11px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-dark text-white\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"USUARIO\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"CEDULA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"NOTA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 45\n                  }, this), this.state.preguntas.map((data, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: data.pregunta\n                  }, data._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 41\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.state.usuarios.map((data, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [data.nombre, ' ', data.apellido]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: data.cedula\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: \"10\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 45\n                  }, this), this.respuestas_user(data._id, index), respuestas_consolidado.map((data2, j) => /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\" \", data2]\n                  }, j, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 97\n                  }, this))]\n                }, data._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-2 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"danger\",\n            size: \"sm\",\n            onClick: () => {\n              this.hideModal_consolidado();\n            },\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faTimesCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 24\n            }, this), \" Close\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 59\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default AdminResultados;","map":{"version":3,"sources":["C:/Users/ADMIN DEP IT/Documents/NetBeansProjects/talleresfront/src/components/AdminResultados.js"],"names":["React","Component","Link","render","Container","Table","Modal","ModalHeader","ModalBody","Row","Col","Button","Navigation","axios","ReactHTMLTableToExcel","FontAwesomeIcon","faCheckCircle","faExclamationCircle","faFileDownload","faTimesCircle","faExclamationTriangle","$","REACT_APP_HOST","process","env","t_c","talleres_comp","respuestas_consolidado","AdminResultados","constructor","state","talleres","usuarios","user_talleres","modalOpen","puntuacion","resultados","preguntas","resultados_taller","modalOpen_consolidadod","componentDidMount","getTalleres","get","then","response","setState","data","getUsuarios","getUserTaller","console","log","datatabla","usuarios_nota","returnedobj","map","data2","_id","id_user","Object","assign","document","ready","DataTable","language","url","dom","buttons","extend","text","titleAttr","className","marcarCompletado","user","index","taller_completado","taller","i","estado","user_taller","j","id_taller","push","getNotas","showResultados","hideModalEval","show_consolidado","show_consolidado_data","taller_id","get_resultados","respuestas_user","respuestas_consol","preg","resp","id_preg","hideModal_consolidado","length","overflowX","fontSize","title","nombre","apellido","cedula","preg_taller","pregunta","estado_resp","maxWidth","width"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport{Link} from'react-router-dom';\nimport {render}from'react-dom';\nimport {Container, Table, Modal, ModalHeader, ModalBody, Row, Col, Button}from 'reactstrap';\nimport Navigation from '../components/Navigation';\nimport axios from 'axios';\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel';\nimport { FontAwesomeIcon }from '@fortawesome/react-fontawesome';\nimport {faCheckCircle, faExclamationCircle, faFileDownload, faTimesCircle, faExclamationTriangle}from '@fortawesome/free-solid-svg-icons';\n\n//Bootstrap and jQuery libraries\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'jquery/dist/jquery.min.js';\n//Datatable Modules\nimport \"datatables.net-dt/js/dataTables.dataTables\"\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\"\nimport $ from 'jquery';\n\nimport 'datatables.net-buttons-dt'\nimport 'datatables.net-buttons/js/buttons.colVis.js'\nimport 'datatables.net-buttons/js/buttons.html5.js'\nimport 'datatables.net-buttons/js/buttons.print.js'\n\n        const{REACT_APP_HOST} = process.env;\nvar t_c = [];\nvar talleres_comp = [];\nvar respuestas_consolidado = [];\n\nclass AdminResultados extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            talleres: [],\n            usuarios: [],\n            user_talleres: [],\n\n            //Modal\n            modalOpen: false,\n            puntuacion: '',\n\n            resultados: [],\n\n            //Para el consolidado\n            preguntas: [],\n            resultados_taller: [],\n\n            modalOpen_consolidadod: false\n        }\n\n\n\n    }\n    componentDidMount() {\n        this.getTalleres();\n        //initialize datatable\n\n    }\n\n    getTalleres() {\n        axios.get(`${REACT_APP_HOST}/api/talleres`).then((response) => {\n            this.setState({talleres: response.data})\n            this.getUsuarios();\n        })\n    }\n\n    getUsuarios() {\n        axios.get(`${REACT_APP_HOST}/api/users`).then((response) => {\n            this.setState({usuarios: response.data});\n            this.getUserTaller();\n        })\n    }\n\n    getUserTaller() {\n        axios.get(`${REACT_APP_HOST}/api/user_taller/`).then((response) => {\n            this.setState({user_talleres: response.data})\n            console.log('======>> ' + response.data)\n            this.datatabla();\n            this.usuarios_nota();\n        })\n\n    }\n\n    usuarios_nota() {\n        var  returnedobj=[];\n        this.state.usuarios.map((data) => {\n            this.state.user_talleres.map((data2) => {\n                if(data._id=== data2.id_user){\n                    returnedobj = Object.assign(data, {puntuacion: data2.puntuacion});\n                }else{\n                    \n                }\n            });\n        });\n    }\n\n    datatabla() {\n\n        $(document).ready(function () {\n            $('#resultados').DataTable({\n                language: {url: \"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json\"},\n                dom: \"<'row'<'col-sm-12 col-md-12 text-left'B>>\" +\n                        \"<'row'<'col-sm-12'tr>>\" +\n                        \"<'row'<'col-sm-12'tr>>\" +\n                        \"<'row'<'col-sm-12 my-1'>>\" +\n                        \"<'row'<'col-sm-12 col-md-5 text-left'l><'col-sm-12 col-md-7'f>>\" +\n                        \"<'row'<'col-sm-12'tr>>\" +\n                        \"<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>\",\n                buttons: [\n                    // 'copy', 'csv', 'excel', 'print'\n                    {\n                        extend: 'copy',\n                        text: 'Copiar',\n                        titleAttr: 'Copiar Tabla',\n                        className: 'btn btn-info btn-sm ',\n                    },\n                    {\n                        extend: 'csv',\n                        text: 'Excel',\n                        titleAttr: 'Copiar Tabla',\n                        className: 'btn btn-success btn-sm  ',\n                    },\n                    {\n                        extend: 'print',\n                        text: 'Imprimir',\n                        titleAttr: 'Copiar Tabla',\n                        className: 'btn btn-dark btn-sm  ',\n                    },\n                ]\n            });\n        });\n    }\n\n    marcarCompletado(user, index) {\n//        alert(user);\n        var taller_completado = [];\n        var returnedobj = [];\n        this.state.talleres.map((taller, i) => {\n            var estado = '0';\n            var puntuacion = '';\n            this.state.user_talleres.map((user_taller, j) => {\n                if (user === user_taller.id_user) {\n                    if (taller._id === user_taller.id_taller) {\n                        estado = '1';\n                        puntuacion = user_taller.puntuacion;\n                    }\n                }\n            })\n            if (estado === '1') {\n                returnedobj = Object.assign(taller, {estado: '1', puntuacion: puntuacion});\n                console.log(user + '--' + taller._id + '--' + puntuacion + '  est:1')\n                console.log(returnedobj)\n            } else {\n                returnedobj = Object.assign(taller, {estado: '0'});\n            }\n            taller_completado.push(returnedobj);\n\n        })\n//        console.log(taller_completado);\n\n        talleres_comp = taller_completado;\n//        console.log('--- ',talleres_comp)\n    }\n\n    getNotas(id_user, id_taller) {\n        axios.get(`${REACT_APP_HOST}/api/user_taller/` + id_user + '/' + id_taller + '/0').then((response) => {\n            if (response.data) {\n                this.setState({puntuacion: response.data.puntuacion});\n            }\n        })\n    }\n\n    //ABRE MODAL RESULTADOS\n    modalOpen(id_user, id_taller, puntuacion) {\n        this.getNotas(id_user, id_taller);\n        this.setState({modalOpen: true});\n        this.showResultados(id_user, id_taller);\n\n    }\n    showResultados(id_user, id_taller) {\n        axios.get(`${REACT_APP_HOST}/api/resultados/` + id_user + '/' + id_taller).then((response) => {\n            this.setState({resultados: response.data});\n        });\n    }\n\n    hideModalEval() {\n        this.setState({modalOpen: false});\n    }\n    //CIERRA MODAL RESULTADOS\n\n\n\n    //ABRE MODAL CONSOLIDADO\n    show_consolidado(id_taller) {\n\n        this.setState({modalOpen_consolidadod: true});\n        this.show_consolidado_data(id_taller);\n\n    }\n\n    show_consolidado_data(taller_id) {\n        axios.get(`${REACT_APP_HOST}/api/preguntas/` + taller_id).then((response) => {\n            this.setState({preguntas: response.data});\n            this.get_resultados(taller_id);\n\n        });\n    }\n\n    get_resultados(taller_id) {\n\n        axios.get(`${REACT_APP_HOST}/api/resultados/` + taller_id).then((response) => {\n            this.setState({resultados_taller: response.data});\n\n        });\n\n    }\n\n    respuestas_user(id_user) {\n\n        var respuestas_consol = [];\n        this.state.preguntas.map((preg, i) => {\n            this.state.resultados_taller.map((resp, j) => {\n                if (preg._id === resp.id_preg && id_user === resp.id_user) {\n//                        alert(id_user+'  '+ preg.pregunta+'  : '+resp.resp)\n                    respuestas_consol.push(resp.resp);\n                }\n\n            })\n        });\n        respuestas_consolidado = respuestas_consol;\n\n    }\n    hideModal_consolidado() {\n        this.setState({modalOpen_consolidadod: false});\n    }\n    // CIERRA MODAL CONSOLIDADO\n\n\n\n    render() {\n\n        return(\n                <div>\n                    <Navigation />\n                    {this.state.user_talleres.length > 0 ?\n                                    <div className=\"containerList my-3\" style={{overflowX: 'auto'}}> \n                                        <h2>Resultados de los Talleres</h2>\n                                \n                                        <table id='resultados' className='table table-nowrap' style={{fontSize: '15px'}}>\n                                            <thead >\n                                \n                                                <tr>\n                                \n                                                    <th></th>\n                                                    <th></th>\n                                                    {\n                                        this.state.talleres.map((data, index) => (\n                                                                                    <th key={data._id}><button className=\"btn btn-success btn-sm\" onClick={() => {\n                                                                                            this.show_consolidado(data._id)\n                                                                                                            }}><FontAwesomeIcon icon={faFileDownload}/> Exportar</button></th>\n                                                    ))\n                                                    }\n                                \n                                                </tr>\n                                                <tr className='bg-dark text-white'>\n                                \n                                                    <th>USUARIO</th>\n                                                    <th>CEDULA</th>\n                                                    {\n                                        this.state.talleres.map((data, index) => (\n                                                                                    <th key={data._id}>{data.title}</th>\n                                                    ))\n                                                    }\n                                \n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                \n                                                {\n                                        this.state.usuarios.map((data, index) => (\n                                                                <tr key={data._id}>\n                                                                    <td>{data.nombre}{' '}{data.apellido}</td>\n                                                                    <td>{data.cedula}</td>\n                                                                    {this.marcarCompletado(data._id, index)}\n                                                                    {\n                                                                                        talleres_comp.map((data2) => (\n                                                                                                    <td key={data2._id}>\n                                                                                                        {data2.estado === '1' ? <a href='#' onClick={() => {\n                                                                                                                                                                        this.modalOpen(data._id, data2._id)\n                                                                                                                                            }}><span className=' text-success'>Completo {data2.puntuacion} <FontAwesomeIcon icon={faCheckCircle} /></span></a>\n                                                                                                                                    : <span className='text-warning badge'>En curso <FontAwesomeIcon icon={faExclamationCircle} /></span>}\n                                                                                                    </td>\n\n                                                                                ))\n                                                                    }\n                                                                </tr>\n                                                    ))\n                                                }\n                                \n                                            </tbody>\n                                        </table>\n                                    </div>\n                            : <h5 className=\"text-warning\">! No se ha gerenado ninguna capacitacion para poder mostrar resultados <FontAwesomeIcon icon={faExclamationTriangle}/></h5>}  \n                    <Modal isOpen={this.state.modalOpen} size='lg'>\n                        <div className='p-2 border'>\n                            <Row>\n                                <Col xs='11'>\n                                <h4>Resultados de La evaluación  <span className='badge bg-success text-white'>{this.state.puntuacion}/10</span></h4>\n                                </Col>\n                                <Col xs='1'>\n                                <Button color=\"danger\" size=\"sm\" onClick={() => {\n                        this.hideModalEval();\n                    }}>X</Button>                                                                        \n                                </Col>\n                            </Row>\n                        </div>  \n                        <ModalBody>\n                            <div className=\"col-md-12\">\n                                {\n                    this.state.resultados.map((data, index) => {\n                        return(\n                                                            <Container key={data._id} >  \n                                                            <label>{index + 1 + ')'} {data.preg_taller.pregunta}</label><br/>\n                                                            {data.estado_resp === '1' ?\n                                                                                        <span className=\"text-success\"><label className='ml-5'>{data.resp}</label></span>\n\n                                                                                        :\n                                                                                                        <span className=\"text-danger font-weight-bold\"><label className='ml-5'>{data.resp}</label></span>\n                                                            }                                      \n                                                        </Container>\n                                );\n                    })\n                                }\n                            </div>\n                        </ModalBody>\n                    </Modal>\n                \n                \n                    <Modal isOpen={this.state.modalOpen_consolidadod} style={{maxWidth: '1300px', width: '100%'}} >\n                        <ReactHTMLTableToExcel\n                            id=\"btn-export-excel\"\n                            className=\"btn btn-success\"\n                            table=\"consolidado\"\n                            filename=\"Consolidado de Respuestas\"\n                            sheet=\"HOJA 1\"\n                            buttonText=\"Descargar as XLS\"/>\n                        <ModalBody>\n                            <div className=\" my-3\" style={{overflowX: 'auto'}}>                         \n                                <table id='consolidado' className='table table-nowrap' style={{fontSize: '11px'}}>\n                                    <thead className='bg-dark text-white' >\n                \n                                        <tr>\n                \n                                            <th>USUARIO</th>\n                                            <th>CEDULA</th>\n                                            <th>NOTA</th>\n                                            {\n                    this.state.preguntas.map((data, index) => (\n                                        <th key={data._id}>{data.pregunta}</th>\n                                ))\n                                            }\n                \n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {\n                    this.state.usuarios.map((data, index) => (\n                                        <tr key={data._id}>\n                                            <td>{data.nombre}{' '}{data.apellido}</td>\n                                            <td>{data.cedula}</td>\n                                            <td>10</td>\n                                            {this.respuestas_user(data._id, index)}\n                                            {\n                                            respuestas_consolidado.map((data2, j) => (\n                                                                                                <td key={j}> {data2}</td>\n                                                        ))\n                                            }\n                                        </tr>\n                                ))\n                                        }\n                \n                                    </tbody>\n                \n                                </table>\n                            </div>\n                \n                        </ModalBody>\n                \n                        <div className=\"my-2 text-center\"><Button color=\"danger\" size=\"sm\" onClick={() => {\n                        this.hideModal_consolidado();\n                    }}><FontAwesomeIcon icon={faTimesCircle}/> Close</Button> </div>                                                                       \n                \n                    </Modal>\n                </div>\n\n                );\n    }\n}\n\nexport default AdminResultados;"]},"metadata":{},"sourceType":"module"}