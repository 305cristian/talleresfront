{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN DEP IT\\\\Documents\\\\NetBeansProjects\\\\talleresfront\\\\src\\\\components\\\\ListTalleres.js\";\nimport React, { Component } from 'react';\nimport style from '../index.css';\nimport { Table, Button, Container, Modal, ModalHeader, ModalBody, ModalFooter, formGroup, CardTitle, Card, CardBody, CardHeader, CardImg, CardText } from 'reactstrap';\nimport { render } from 'react-dom';\nimport axios from 'axios';\nimport { Link, useParams } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle, faExclamationCircle } from '@fortawesome/free-solid-svg-icons';\nimport Navigation from '../components/Navigation';\nimport Breadcrumb_nav from '../components/Breadcrumb_nav';\nimport Cookies from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nconst {\n  REACT_APP_HOST,\n  REACT_APP_PATCH\n} = process.env;\nconst styles = {\n  div: {\n    padding: 10,\n    textAlign: \"left\"\n  }\n};\n\nclass ListTalleres extends Component {\n  constructor() {\n    super();\n    this.state = {\n      talleres: [],\n      user_talleres: [],\n      talleres_validados: []\n    };\n  }\n\n  componentDidMount() {\n    if (!cookies.get('nombre')) {\n      window.location.href = '/';\n    }\n\n    this.getTaller();\n  }\n\n  getTaller() {\n    const {\n      match\n    } = this.props;\n    const id_ar = match.params.id_ar;\n    axios.post(`${REACT_APP_HOST}/api/talleres_ar/${id_ar}`).then(response => {\n      this.setState({\n        talleres: response.data\n      });\n      console.log(response.data);\n      this.getUserTaller();\n    });\n  }\n\n  getUserTaller() {\n    const id_user = cookies.get('id');\n    axios.get(`${REACT_APP_HOST}/api/user_taller/${id_user}`).then(response => {\n      this.setState({\n        user_talleres: response.data\n      });\n      console.log(response.data);\n      this.verificarCompletado();\n    });\n  }\n\n  verificarCompletado() {\n    /**\n     * Recorro el arreglo de talleres y agarro el primero de la lista\n     * Luego recorro el arreglo de user_talleres y agarro el primero de la lista\n     * Luego Comparo los 2 objetos agarrados taller._id === us_taller.id_taller, y paso el estado a 1, lo cual indica que este taller en este usuario ya esta completado\n     * Luego pregunto si el estado esta en 1 o 0, si esta en 1 quiere decir que la tarea esta completada, procedemos a concatenar\n     * el objeto taller con un objeto adicional el cual tendra el estado del taller y la fecha\n     * */\n    var talleresjoin = [];\n    this.state.talleres.map((taller, index) => {\n      var estado = '0'; //Variable clave, indica cuando que taller esta completado, le pasamos de estado 0 a 1 \n\n      var fecha = '';\n      this.state.user_talleres.map((us_taller, i) => {\n        if (taller._id === us_taller.id_taller) {\n          estado = '1'; //Cambiamos el estado a 1 porque este taller ya esta completado\n\n          fecha = us_taller.fecha_regis; //Variable adicional solo para la fecha\n        }\n      });\n\n      if (estado === '1') {\n        var returnedobj = Object.assign(taller, {\n          estado: '1',\n          fecha: fecha\n        });\n      } else {\n        var returnedobj = Object.assign(taller, {\n          estado: '0'\n        });\n      }\n\n      talleresjoin.push(returnedobj);\n    });\n    this.setState({\n      talleres_validados: talleresjoin\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerFluid2 mt-3 p-5 \",\n        children: this.state.talleres.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row my-5\",\n          children: this.state.talleres_validados.map((taller, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3\",\n            style: styles.div,\n            children: taller.estado === '1' ? /*#__PURE__*/_jsxDEV(Link, {\n              to: `/culminado/${taller._id}/${taller.fecha}`,\n              style: {\n                color: \"black\",\n                textDecoration: \"none black\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"card_taller\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                    className: \"font-weight-bold\",\n                    tag: \"h5\",\n                    children: taller.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 101\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-success text-white text-right\",\n                      children: [\"Completado \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                        icon: faCheckCircle\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 197\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 129\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 101\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 97\n                }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(CardImg, {\n                    className: \"image\",\n                    top: true,\n                    width: \"100%\",\n                    src: `${REACT_APP_PATCH}imgtaller%2F${taller.image}?alt=media`,\n                    alt: \"Card image cap\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 101\n                  }, this), /*#__PURE__*/_jsxDEV(CardText, {\n                    children: taller.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 101\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 97\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 97\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 97\n            }, this) : /*#__PURE__*/_jsxDEV(Link, {\n              to: `/presentacion/${taller._id}`,\n              style: {\n                color: \"black\",\n                textDecoration: \"none black\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"card_taller\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                    className: \"font-weight-bold\",\n                    tag: \"h5\",\n                    children: taller.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 101\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-warning text-white text-right\",\n                      children: [\"En Curso \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                        icon: faExclamationCircle\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 195\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 129\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 101\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 97\n                }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(CardImg, {\n                    className: \"image\",\n                    top: true,\n                    width: \"100%\",\n                    src: `${REACT_APP_PATCH}imgtaller%2F${taller.image}?alt=media`,\n                    alt: \"Card image cap\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 101\n                  }, this), /*#__PURE__*/_jsxDEV(CardText, {\n                    children: taller.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 101\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 97\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 97\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 97\n            }, this)\n          }, taller._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 65\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 37\n        }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"No hay talleres registrados en esta area\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default ListTalleres;","map":{"version":3,"sources":["C:/Users/ADMIN DEP IT/Documents/NetBeansProjects/talleresfront/src/components/ListTalleres.js"],"names":["React","Component","style","Table","Button","Container","Modal","ModalHeader","ModalBody","ModalFooter","formGroup","CardTitle","Card","CardBody","CardHeader","CardImg","CardText","render","axios","Link","useParams","FontAwesomeIcon","faCheckCircle","faExclamationCircle","Navigation","Breadcrumb_nav","Cookies","cookies","REACT_APP_HOST","REACT_APP_PATCH","process","env","styles","div","padding","textAlign","ListTalleres","constructor","state","talleres","user_talleres","talleres_validados","componentDidMount","get","window","location","href","getTaller","match","props","id_ar","params","post","then","response","setState","data","console","log","getUserTaller","id_user","verificarCompletado","talleresjoin","map","taller","index","estado","fecha","us_taller","i","_id","id_taller","fecha_regis","returnedobj","Object","assign","push","length","color","textDecoration","title","image","description"],"mappings":"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","sourcesContent":["import  React, {Component}from'react';\nimport style from '../index.css';\nimport {Table, Button, Container, Modal, ModalHeader, ModalBody, ModalFooter, formGroup, CardTitle, Card, CardBody, CardHeader, CardImg, CardText}from 'reactstrap';\nimport {render}from'react-dom';\nimport axios from 'axios';\nimport{Link, useParams} from'react-router-dom';\n\nimport { FontAwesomeIcon }from '@fortawesome/react-fontawesome'\nimport {faCheckCircle, faExclamationCircle}from '@fortawesome/free-solid-svg-icons'\n\nimport Navigation from '../components/Navigation';\nimport Breadcrumb_nav from '../components/Breadcrumb_nav';\n\nimport Cookies from 'universal-cookie';\n\n\n\nconst cookies = new Cookies();\nconst{REACT_APP_HOST, REACT_APP_PATCH} = process.env;\n\nconst styles = {\n    div: {\n        padding: 10,\n        textAlign: \"left\",\n\n    }\n\n}\n\nclass ListTalleres extends Component {\n    constructor() {\n        super();\n        this.state = {\n            talleres: [],\n            user_talleres: [],\n            talleres_validados: []\n        }\n\n    }\n\n    componentDidMount() {\n        if (!cookies.get('nombre')) {\n            window.location.href = '/';\n        }\n        this.getTaller();\n    }\n    getTaller() {\n        const{match} = this.props;\n        const id_ar = match.params.id_ar;\n\n        axios.post(`${REACT_APP_HOST}/api/talleres_ar/${id_ar}`).then(response => {\n            this.setState({talleres: response.data});\n            console.log(response.data);\n            this.getUserTaller();\n        });\n\n    }\n\n    getUserTaller() {\n        const id_user = cookies.get('id');\n        axios.get(`${REACT_APP_HOST}/api/user_taller/${id_user}`).then((response) => {\n            this.setState({user_talleres: response.data})\n            console.log(response.data)\n            this.verificarCompletado();\n        })\n\n    }\n\n    verificarCompletado() {\n        /**\n         * Recorro el arreglo de talleres y agarro el primero de la lista\n         * Luego recorro el arreglo de user_talleres y agarro el primero de la lista\n         * Luego Comparo los 2 objetos agarrados taller._id === us_taller.id_taller, y paso el estado a 1, lo cual indica que este taller en este usuario ya esta completado\n         * Luego pregunto si el estado esta en 1 o 0, si esta en 1 quiere decir que la tarea esta completada, procedemos a concatenar\n         * el objeto taller con un objeto adicional el cual tendra el estado del taller y la fecha\n         * */\n\n        var talleresjoin = [];\n\n        this.state.talleres.map((taller, index) => {\n\n            var estado = '0';//Variable clave, indica cuando que taller esta completado, le pasamos de estado 0 a 1 \n            var fecha = '';\n\n            this.state.user_talleres.map((us_taller, i) => {\n                if (taller._id === us_taller.id_taller) {\n\n                    estado = '1'; //Cambiamos el estado a 1 porque este taller ya esta completado\n                    fecha = us_taller.fecha_regis;//Variable adicional solo para la fecha\n                }\n\n            })\n\n            if (estado === '1') {\n                var returnedobj = Object.assign(taller, {estado: '1', fecha: fecha});\n            } else {\n                var returnedobj = Object.assign(taller, {estado: '0'});\n            }\n            talleresjoin.push(returnedobj);\n\n        })\n        this.setState({talleres_validados: talleresjoin})\n\n    }\n\n    render() {\n\n        return (\n                <div className=\"container-fluid\">\n                    <Navigation />\n                      <div className=\"containerFluid2 mt-3 p-5 \">\n                \n                        {this.state.talleres.length > 0 ?\n                                    <div className=\"row my-5\">\n                                        {\n                                                    this.state.talleres_validados.map((taller, index) => (\n                                                                <div className=\"col-md-3\" key={taller._id} style={styles.div}>\n                                                                    {taller.estado === '1' ?\n                                                                                                <Link to={`/culminado/${taller._id}/${taller.fecha}`} style={{color: \"black\", textDecoration: \"none black\"}}>\n                                                                                                <Card className=\"card_taller\">\n                                                                                                <CardHeader>\n                                                                                                    <CardTitle className=\"font-weight-bold\" tag=\"h5\">{taller.title}</CardTitle>\n                                                                                                    <div className=\"text-right\"><span className=\"badge bg-success text-white text-right\">Completado <FontAwesomeIcon icon={faCheckCircle}/></span></div>\n                                                                                                </CardHeader>\n                                                                                                <CardBody className=\"text-center\">\n                                                                                                    <CardImg className=\"image\" top width=\"100%\" src={`${REACT_APP_PATCH}imgtaller%2F${taller.image}?alt=media`} alt=\"Card image cap\" /> \n                                                                                                    <CardText>{taller.description}</CardText>\n                                                                                \n                                                                                                </CardBody>\n                                                                                                </Card>\n                                                                                                </Link>\n                                                                                            :\n                                                                                                <Link to={`/presentacion/${taller._id}`} style={{color: \"black\", textDecoration: \"none black\"}}>\n                                                                                                <Card className=\"card_taller\">\n                                                                                                <CardHeader>\n                                                                                                    <CardTitle className=\"font-weight-bold\" tag=\"h5\">{taller.title}</CardTitle>\n                                                                                                    <div className=\"text-right\"><span className=\"badge bg-warning text-white text-right\">En Curso <FontAwesomeIcon icon={faExclamationCircle}/></span></div>\n                                                                                                </CardHeader>\n                                                                                                <CardBody className=\"text-center\">\n                                                                                                    <CardImg className=\"image\" top width=\"100%\" src={`${REACT_APP_PATCH}imgtaller%2F${taller.image}?alt=media`} alt=\"Card image cap\" /> \n                                                                                                    <CardText>{taller.description}</CardText>\n                                                                                \n                                                                                                </CardBody>\n                                                                                                </Card>\n                                                                                                </Link>\n                                                                    }   \n                                                                </div>\n\n                                                                ))\n\n\n                                        }\n                            \n                                    </div>\n\n                                    : <h5>No hay talleres registrados en esta area</h5>}\n                    </div>\n                \n           \n                </div>\n                )\n    }\n\n}\nexport default ListTalleres;\n\n\n\n"]},"metadata":{},"sourceType":"module"}