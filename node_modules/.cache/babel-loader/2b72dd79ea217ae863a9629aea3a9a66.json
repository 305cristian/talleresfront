{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN DEP IT\\\\Documents\\\\NetBeansProjects\\\\talleresfront\\\\src\\\\components\\\\AdminUsers.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { Table, Button, Container, CustomInput, InputGroup, InputGroupText, Modal, ModalHeader, ModalBody, ModalFooter, formGroup } from 'reactstrap';\nimport Swal from 'sweetalert';\nimport axios from 'axios';\nimport P from '../components/P';\nimport Styles from '../index.css';\nimport md5 from 'md5';\nimport DataTable from \"@material-table/core\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFileAlt, faEdit, faTrash, faFile, faSave, faSyncAlt, faCheckCircle, faBan, faSkull, faClock, faRedo, faFileExcel, faUser, faUnlockAlt } from '@fortawesome/free-solid-svg-icons'; //import DataTable from 'material-table';\n\nimport XLSX from 'xlsx';\nimport Navigation from '../components/Navigation';\nimport Breadcrumb_nav from '../components/Breadcrumb_nav';\nimport Cookies from 'universal-cookie';\nimport firebase from '../../src/setting/server_firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nconst {\n  REACT_APP_HOST,\n  REACT_APP_STORAGE\n} = process.env;\nvar storage = firebase.app().storage(`${REACT_APP_STORAGE}`);\n\nconst validation = data => {\n  const errors = {};\n\n  if (!data.nombre) {\n    errors.nombre = 'El campo nombres es obligatorio';\n  }\n\n  if (!data.apellido) {\n    errors.apellido = 'El campo apellidos es obligatorio';\n  }\n\n  if (!data.cedula) {\n    errors.cedula = 'El campo cédula es obligatorio';\n  }\n\n  if (!data.user) {\n    errors.user = 'El campo user es obligatorio';\n  }\n\n  if (!data.pass) {\n    errors.pass = 'El campo password es obligatorio';\n  }\n\n  if (!data.rol) {\n    errors.rol = 'El rol es un campo obligatorio';\n  }\n\n  return errors;\n};\n\nconst paginacion = {\n  labelRowsSelect: 'Filas',\n  labelRowsPerPage: 'Filas por Pagina',\n  previousAriaLabel: 'Pagina Anterior',\n  previousTooltip: 'Pagina Anterior',\n  nextAriaLabel: 'Siguiente Página',\n  nextTooltip: 'Siguiente Página',\n  lastAriaLabel: 'Ultima page',\n  lastTooltip: 'Ultima page',\n  firstAriaLabel: 'Primera Página',\n  firstTooltip: 'Primera Página'\n};\nconst toolbar = {\n  exportTitle: 'Exportar',\n  exportAriaLabel: 'Exportar',\n  exportName: 'Exportar a',\n  searchTooltip: 'Buscar',\n  searchPlaceholder: 'Buscar'\n};\n\nclass AdminUsers extends Component {\n  constructor() {\n    super();\n\n    this.uploadImage = async () => {\n      var storageRef = storage.ref();\n      var spaceRef = storageRef.child(`images/imguser/${this.state.image.name}`);\n      return await spaceRef.put(this.state.image);\n    };\n\n    this.deleteImage = async () => {\n      var storageRef = storage.ref();\n      var spaceRef = storageRef.child(`images/imguser/${this.state.img_temp}`);\n      return await spaceRef.delete();\n    };\n\n    this.uploadImage2 = () => {\n      var storageRef = storage.ref();\n      var spaceRef = storageRef.child(`images/imguser/${this.state.image.name}`);\n      return spaceRef.put(this.state.image);\n    };\n\n    this.deleteImage2 = () => {\n      var storageRef = storage.ref();\n      var spaceRef = storageRef.child(`images/imguser/${this.state.img_temp}`);\n      return spaceRef.delete();\n    };\n\n    this.handleImageUpload = e => {\n      this.setState({\n        image: e.target.files[0],\n        aux: e.target.files[0]\n      }); //        console.log(e.target.files[0]);\n    };\n\n    this.downloadReporte = e => {\n      const newData = this.state.users.map(row => {\n        delete row._id;\n        delete row.__v;\n        delete row.pass;\n        return row;\n      });\n      const workSheet = XLSX.utils.json_to_sheet(newData);\n      const workBook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workBook, workSheet, \"usuarios\"); //Buffer\n\n      let buf = XLSX.write(workBook, {\n        bookType: \"xlsx\",\n        type: \"buffer\"\n      }); //Binary string\n\n      XLSX.write(workBook, {\n        bookType: \"xlsx\",\n        type: \"binary\"\n      }); //Download\n\n      XLSX.writeFile(workBook, \"Usuarios.xlsx\");\n    };\n\n    this.resetearPassword = e => {\n      e.preventDefault();\n      const datos = {\n        newpass: this.state.newpass,\n        id_user: this.state._id\n      };\n\n      if (this.state.newpass === this.state.newpassconfirm) {\n        axios.post(`${REACT_APP_HOST}/api/users/resetpassword`, datos).then(response => {\n          if (response.data) {\n            Swal({\n              title: '!OK',\n              text: 'La contraseña ha sido reseteada exitosamente',\n              icon: 'success'\n            });\n          }\n\n          this.setState({\n            modalOpenPass: false\n          });\n        });\n      } else {\n        Swal({\n          title: '!Atencion',\n          text: 'Las contraseñas no coinciden',\n          icon: 'warning'\n        });\n      }\n    };\n\n    this.state = {\n      nombre: '',\n      apellido: '',\n      cedula: '',\n      user: '',\n      pass: '',\n      correo: '',\n      telefono: '',\n      rol: 'USUARIO',\n      _id: '',\n      users: [],\n      textButton: 'REGISTRAR',\n      header: 'Insertar Usuario',\n      modalOpen: false,\n      image: '...',\n      errors: {},\n      img_temp: '',\n      aux: '',\n      estado_update: false,\n      modalOpenPass: false,\n      newpassconfirm: '',\n      newpass: ''\n    };\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.showModalPass = this.showModalPass.bind(this);\n    this.hideModalPass = this.hideModalPass.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.addUser = this.addUser.bind(this);\n  }\n\n  componentDidMount() {\n    //Es como el initComponents\n    this.getUsers(); //Para que inicie la pantalla de tareas\n  }\n\n  getUsers() {\n    axios.get(`${REACT_APP_HOST}/api/users`).then(response => {\n      this.setState({\n        users: response.data\n      }); //            console.log(response.data);\n    });\n  }\n\n  addUser(e) {\n    e.preventDefault();\n    const {\n      errors,\n      ...sinErrors\n    } = this.state;\n    const result = validation(sinErrors);\n    this.setState({\n      errors: result\n    });\n\n    if (!Object.keys(result).length) {\n      let datos = new FormData();\n      datos.append('nombre', this.state.nombre);\n      datos.append('apellido', this.state.apellido);\n      datos.append('cedula', this.state.cedula);\n      datos.append('user', this.state.user);\n      datos.append('pass', this.state.pass);\n      datos.append('correo', this.state.correo);\n      datos.append('telefono', this.state.telefono);\n      datos.append('rol', this.state.rol); //            datos.append('image', this.state.image.name);\n\n      if (this.state._id && this.state.aux === '') {\n        //                console.log('modifico');\n        datos.append('image', this.state.image);\n      } else if (this.state._id && this.state.aux.name) {\n        //                 console.log('modifico imagen');\n        datos.append('image', this.state.image.name);\n      } else {\n        //                 console.log('guardo');\n        if (this.state.aux !== '') {\n          datos.append('image', this.state.image.name);\n        } else {\n          datos.append('image', '...');\n        }\n      }\n\n      if (this.state._id) {\n        if (this.state.aux.name) {\n          this.deleteImage2();\n          this.uploadImage2();\n        }\n\n        axios.put(`${REACT_APP_HOST}/api/users/` + this.state._id, datos).then(async response => {\n          //                    let eliminar = await this.deleteImage();\n          //                    let cargar = await this.uploadImage();\n          Swal({\n            title: 'Usuario Actualizada',\n            icon: 'success',\n            timer: 2000,\n            button: false\n          });\n          this.getUsers();\n          this.setState({\n            nombre: '',\n            apellido: '',\n            cedula: '',\n            user: '',\n            pass: '',\n            rol: 'USUARIO',\n            _id: '',\n            textButton: 'REGISTRAR',\n            header: 'Insertar Usuario',\n            modalOpen: false,\n            aux: '',\n            estado_update: false,\n            image: '...',\n            errors: {}\n          });\n        });\n      } else {\n        axios.post(`${REACT_APP_HOST}/api/users`, datos).then(async response => {\n          let cargar = await this.uploadImage();\n          Swal({\n            title: 'Usuario registrada',\n            icon: 'success',\n            timer: 2000,\n            button: false\n          });\n          this.getUsers();\n          this.setState({\n            nombre: '',\n            apellido: '',\n            cedula: '',\n            rol: 'USUARIO',\n            user: '',\n            pass: '',\n            aux: '',\n            image: '...'\n          });\n        });\n      }\n    }\n  }\n\n  editUser(id) {\n    axios.get(`${REACT_APP_HOST}/api/users/` + id).then(response => {\n      //            console.log(response.data)\n      this.setState({\n        nombre: response.data.nombre,\n        apellido: response.data.apellido,\n        cedula: response.data.cedula,\n        user: response.data.user,\n        pass: response.data.pass,\n        telefono: response.data.telefono,\n        correo: response.data.correo,\n        rol: response.data.rol,\n        image: response.data.image,\n        img_temp: response.data.image,\n        _id: response.data._id,\n        textButton: 'ACTUALIZAR',\n        estado_update: true,\n        header: 'Actualizar Usuario'\n      }); //            console.log(this.state.image)\n    });\n  }\n\n  validarEliminacion(id, image, nombre, apellido) {\n    axios.get(`${REACT_APP_HOST}/api/user_taller/` + id).then(response => {\n      if (response.data <= 0) {\n        this.deleteUser(id, image, nombre, apellido);\n      } else {\n        Swal({\n          title: '!Atención',\n          text: 'Este Usuario tiene historial en el sistema, imposible eliminar',\n          icon: 'warning',\n          button: true\n        });\n      }\n    });\n  }\n\n  deleteUser(id, image, nombre, apellido) {\n    this.setState({\n      img_temp: image\n    });\n    Swal({\n      title: `Esta seguro de eliminar el Usuario ${nombre} ${apellido}`,\n      text: ' El usuario se eliminara definitivamente',\n      icon: 'warning',\n      buttons: ['Cancelar', 'Sí'],\n      dangerMode: true\n    }).then(value => {\n      if (value) {\n        axios.delete(`${REACT_APP_HOST}/api/users/` + id).then(async response => {\n          //                    console.log(response.data);\n          if (this.state.img_temp !== '...') {\n            let eliminar = await this.deleteImage();\n          }\n\n          Swal({\n            title: 'Usuario eliminada',\n            icon: 'success',\n            timer: 1000,\n            button: false\n          });\n          this.getUsers();\n        });\n      }\n    });\n  }\n\n  showModal() {\n    this.setState({\n      modalOpen: true\n    });\n  }\n\n  hideModal() {\n    this.setState({\n      nombre: '',\n      apellido: '',\n      cedula: '',\n      user: '',\n      pass: '',\n      rol: 'USUARIO',\n      modalOpen: false,\n      estado_update: false,\n      textButton: 'REGISTRAR',\n      header: 'Insertar Usuario',\n      image: '...',\n      errors: {}\n    });\n  }\n\n  showModalPass() {\n    this.setState({\n      modalOpenPass: true\n    });\n  }\n\n  hideModalPass() {\n    this.setState({\n      modalOpenPass: false,\n      newpass: '',\n      newpassconfirm: ''\n    });\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    }); //        console.log(e.target.value);\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerList\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          onClick: this.showModal,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 74\n          }, this), \" Nuevo Usuario\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 25\n        }, this), this.state.users.length > 0 ? /*#__PURE__*/_jsxDEV(DataTable, {\n          columns: [{\n            title: 'NOMBRE',\n            field: 'nombre'\n          }, {\n            title: 'APELLIDO',\n            field: 'apellido'\n          }, {\n            title: 'CÉDULA',\n            field: 'cedula',\n            type: 'numeric'\n          }, {\n            title: 'USUARIO',\n            field: 'user'\n          }, {\n            title: 'ROL',\n            field: 'rol'\n          }, {\n            title: 'IMAGEN',\n            field: 'image'\n          }],\n          data: this.state.users,\n          title: \"Lista de Usuarios del Sistema\",\n          actions: [{\n            icon: () => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn btn-secondary btn-sm\",\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faUnlockAlt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 113\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 69\n            }, this),\n            tooltip: 'Resetear Password',\n            onClick: (event, rowData) => {\n              this.showModalPass();\n              this.editUser(rowData._id);\n            }\n          }, {\n            icon: () => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn btn-warning btn-sm\",\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faEdit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 111\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 69\n            }, this),\n            tooltip: 'Editar Usuario',\n            onClick: (event, rowData) => {\n              this.showModal();\n              this.editUser(rowData._id);\n            }\n          }, {\n            icon: () => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn btn-danger btn-sm\",\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faTrash\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 114\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 73\n            }, this),\n            tooltip: 'Eliminar Usuario',\n            onClick: (event, rowData) => this.validarEliminacion(rowData._id, rowData.image, rowData.nombre, rowData.apellido)\n          }, {\n            icon: () => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn btn-success btn-sm\",\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faFileExcel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 115\n              }, this), \" Exportar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 73\n            }, this),\n            tooltip: 'Exportar a Excel',\n            onClick: () => this.downloadReporte(),\n            isFreeAction: true\n          }],\n          options: {\n            actionsColumnIndex: -1,\n            toolbar: true,\n            exportButton: true,\n            filtering: true,\n            headerStyle: {\n              backgroundColor: '#343a40',\n              color: '#FFF'\n            },\n            padding: 'default',\n            //dense\n            pageSize: 8,\n            pageSizeOptions: [8, 15, 30],\n            paginationType: 'stepped'\n          },\n          localization: {\n            pagination: paginacion,\n            toolbar: {\n              exportCSVName: \"Export some Excel format\",\n              exportPDFName: \"Export as pdf!!\"\n            },\n            header: {\n              actions: 'ACCIONES'\n            }\n          },\n          style: {\n            fontSize: \"12px\",\n            padding: '15px',\n            cellPadding: '0px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 37\n        }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"No hay Usuarios registrados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 43\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: this.state.modalOpen,\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faUser\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 46\n                }, this), \" \", this.state.header]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.addUser,\n              className: \"container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n                  className: \"my-1\",\n                  children: [/*#__PURE__*/_jsxDEV(InputGroupText, {\n                    children: \"Nombres\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"nombre\",\n                    onChange: this.handleChange,\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"Cristian\",\n                    value: this.state.nombre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 42\n                }, this), errors.nombre && /*#__PURE__*/_jsxDEV(P, {\n                  errors: errors.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 59\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row my-2\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n                  className: \"my-1\",\n                  children: [/*#__PURE__*/_jsxDEV(InputGroupText, {\n                    children: \"Apellidos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"apellido\",\n                    onChange: this.handleChange,\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"Paz\",\n                    value: this.state.apellido\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 42\n                }, this), errors.apellido && /*#__PURE__*/_jsxDEV(P, {\n                  errors: errors.apellido\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 61\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n                  className: \"my-1\",\n                  children: [/*#__PURE__*/_jsxDEV(InputGroupText, {\n                    children: \"C\\xE9dula\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"cedula\",\n                    onChange: this.handleChange,\n                    type: \"number\",\n                    className: \"form-control \",\n                    placeholder: \"1900xxxxxx\",\n                    value: this.state.cedula\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 42\n                }, this), errors.cedula && /*#__PURE__*/_jsxDEV(P, {\n                  errors: errors.cedula\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 63\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row my-2\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n                  className: \"my-1\",\n                  children: [/*#__PURE__*/_jsxDEV(InputGroupText, {\n                    children: \"Usuario\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"user\",\n                    onChange: this.handleChange,\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"cris\",\n                    value: this.state.user\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 42\n                }, this), errors.user && /*#__PURE__*/_jsxDEV(P, {\n                  errors: errors.user\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 41\n              }, this), this.state.estado_update !== true ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n                  className: \"my-1\",\n                  children: [/*#__PURE__*/_jsxDEV(InputGroupText, {\n                    children: \"Contrase\\xF1a\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"pass\",\n                    onChange: this.handleChange,\n                    type: \"password\",\n                    className: \"form-control \",\n                    placeholder: \"*****\",\n                    value: this.state.pass\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 37\n                }, this), errors.pass && /*#__PURE__*/_jsxDEV(P, {\n                  errors: errors.pass\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 37\n              }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row my-2\",\n                children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                  className: \"my-1\",\n                  children: [/*#__PURE__*/_jsxDEV(InputGroupText, {\n                    children: \"Correo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"correo\",\n                    onChange: this.handleChange,\n                    type: \"email\",\n                    className: \"form-control \",\n                    placeholder: \"pcris.994@gmail.com\",\n                    value: this.state.correo\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row my-2\",\n                children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                  className: \"my-1\",\n                  children: [/*#__PURE__*/_jsxDEV(InputGroupText, {\n                    children: \"Tel\\xE9fono\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"telefono\",\n                    onChange: this.handleChange,\n                    type: \"text\",\n                    className: \"form-control \",\n                    placeholder: \"0992094788\",\n                    value: this.state.telefono\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n                  className: \"my-1\",\n                  children: [/*#__PURE__*/_jsxDEV(InputGroupText, {\n                    children: \"Rol\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"form-control\",\n                    name: \"rol\",\n                    onChange: this.handleChange,\n                    value: this.state.rol,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"Selecione un Rol\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 517,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"USUARIO\",\n                      children: \"USUARIO\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 518,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"ADMINISTRADOR\",\n                      children: \"ADMINISTRADOR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 519,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 41\n                }, this), errors.rol && /*#__PURE__*/_jsxDEV(P, {\n                  errors: errors.rol\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 60\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row my-2\",\n                children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                  className: \"form-control-sm\",\n                  name: \"image\",\n                  type: \"file\",\n                  onChange: this.handleImageUpload,\n                  id: \"image\",\n                  label: \"Seleccione una Foto\",\n                  accept: \"image/png, .jpeg, .jpg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                id: \"btnInsertar\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faSave\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 529,\n                  columnNumber: 66\n                }, this), \" \", this.state.textButton]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 41\n              }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                id: \"btnCancelar\",\n                onClick: this.hideModal,\n                className: \"btn btn-danger\",\n                \"data-dismiss\": \"modal\",\n                \"aria-hidden\": \"true\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faBan\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 158\n                }, this), \" CANCELAR\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: this.state.modalOpenPass,\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Resetear Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.resetearPassword,\n              className: \"container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"newpass\",\n                  onChange: this.handleChange,\n                  type: \"password\",\n                  className: \"form-control form-control-sm\",\n                  placeholder: \"Ingrese la nueva contrase\\xF1a\",\n                  required: true,\n                  value: this.state.newpass\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"newpassconfirm\",\n                  onChange: this.handleChange,\n                  type: \"password\",\n                  className: \"form-control form-control-sm\",\n                  placeholder: \"Confirme la nueva contrase\\xF1a\",\n                  required: true,\n                  value: this.state.newpassconfirm\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                id: \"btnReset\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faUnlockAlt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 64\n                }, this), \" RESETEAR\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 41\n              }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                id: \"btnCancelar2\",\n                onClick: this.hideModalPass,\n                className: \"btn btn-danger\",\n                \"data-dismiss\": \"modal\",\n                \"aria-hidden\": \"true\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faBan\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 163\n                }, this), \" CANCELAR\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default AdminUsers;","map":{"version":3,"sources":["C:/Users/ADMIN DEP IT/Documents/NetBeansProjects/talleresfront/src/components/AdminUsers.js"],"names":["React","Component","render","Table","Button","Container","CustomInput","InputGroup","InputGroupText","Modal","ModalHeader","ModalBody","ModalFooter","formGroup","Swal","axios","P","Styles","md5","DataTable","FontAwesomeIcon","faFileAlt","faEdit","faTrash","faFile","faSave","faSyncAlt","faCheckCircle","faBan","faSkull","faClock","faRedo","faFileExcel","faUser","faUnlockAlt","XLSX","Navigation","Breadcrumb_nav","Cookies","firebase","cookies","REACT_APP_HOST","REACT_APP_STORAGE","process","env","storage","app","validation","data","errors","nombre","apellido","cedula","user","pass","rol","paginacion","labelRowsSelect","labelRowsPerPage","previousAriaLabel","previousTooltip","nextAriaLabel","nextTooltip","lastAriaLabel","lastTooltip","firstAriaLabel","firstTooltip","toolbar","exportTitle","exportAriaLabel","exportName","searchTooltip","searchPlaceholder","AdminUsers","constructor","uploadImage","storageRef","ref","spaceRef","child","state","image","name","put","deleteImage","img_temp","delete","uploadImage2","deleteImage2","handleImageUpload","e","setState","target","files","aux","downloadReporte","newData","users","map","row","_id","__v","workSheet","utils","json_to_sheet","workBook","book_new","book_append_sheet","buf","write","bookType","type","writeFile","resetearPassword","preventDefault","datos","newpass","id_user","newpassconfirm","post","then","response","title","text","icon","modalOpenPass","correo","telefono","textButton","header","modalOpen","estado_update","showModal","bind","hideModal","showModalPass","hideModalPass","handleChange","addUser","componentDidMount","getUsers","get","sinErrors","result","Object","keys","length","FormData","append","timer","button","cargar","editUser","id","validarEliminacion","deleteUser","buttons","dangerMode","value","eliminar","field","tooltip","onClick","event","rowData","isFreeAction","actionsColumnIndex","exportButton","filtering","headerStyle","backgroundColor","color","padding","pageSize","pageSizeOptions","paginationType","pagination","exportCSVName","exportPDFName","actions","fontSize","cellPadding"],"mappings":"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","sourcesContent":["import React, {Component}from'react';\nimport {render}from'react-dom';\nimport {Table, Button, Container, CustomInput,InputGroup,InputGroupText, Modal, ModalHeader, ModalBody, ModalFooter, formGroup} from 'reactstrap';\nimport Swal from 'sweetalert';\nimport axios from 'axios'\nimport P from '../components/P';\nimport Styles from '../index.css'\nimport md5 from 'md5';\nimport DataTable from \"@material-table/core\";\nimport { FontAwesomeIcon }from '@fortawesome/react-fontawesome'\nimport { faFileAlt, faEdit, faTrash, faFile, faSave, faSyncAlt, faCheckCircle, faBan,faSkull, faClock, faRedo, faFileExcel, faUser, faUnlockAlt }from '@fortawesome/free-solid-svg-icons'\n//import DataTable from 'material-table';\nimport XLSX from 'xlsx'\nimport Navigation from '../components/Navigation';\nimport Breadcrumb_nav from '../components/Breadcrumb_nav';\nimport Cookies from 'universal-cookie';\n\nimport firebase from '../../src/setting/server_firebase';\n\n\n\nconst cookies = new Cookies();\n\nconst {REACT_APP_HOST, REACT_APP_STORAGE} = process.env;\n\nvar storage = firebase.app().storage(`${REACT_APP_STORAGE}`);\n\nconst validation = data => {\n    const errors = {};\n    if (!data.nombre) {\n        errors.nombre = 'El campo nombres es obligatorio';\n    }\n    if (!data.apellido) {\n        errors.apellido = 'El campo apellidos es obligatorio';\n    }\n    if (!data.cedula) {\n        errors.cedula = 'El campo cédula es obligatorio';\n    }\n    if (!data.user) {\n        errors.user = 'El campo user es obligatorio';\n    }\n    if (!data.pass) {\n        errors.pass = 'El campo password es obligatorio';\n    }\n    if (!data.rol) {\n        errors.rol = 'El rol es un campo obligatorio';\n    }\n    return errors;\n}\n\nconst paginacion = {\n    labelRowsSelect: 'Filas',\n    labelRowsPerPage: 'Filas por Pagina',\n    previousAriaLabel: 'Pagina Anterior',\n    previousTooltip: 'Pagina Anterior',\n    nextAriaLabel: 'Siguiente Página',\n    nextTooltip: 'Siguiente Página',\n    lastAriaLabel: 'Ultima page',\n    lastTooltip: 'Ultima page',\n    firstAriaLabel: 'Primera Página',\n    firstTooltip: 'Primera Página'\n}\n\nconst toolbar = {\n    exportTitle: 'Exportar',\n    exportAriaLabel: 'Exportar',\n    exportName: 'Exportar a',\n    searchTooltip: 'Buscar',\n    searchPlaceholder: 'Buscar'\n}\n\n\n\nclass AdminUsers extends Component {\n    constructor() {\n        super();\n        this.state = {\n            nombre: '',\n            apellido: '',\n            cedula: '',\n            user: '',\n            pass: '',\n            correo: '',\n            telefono: '',\n            rol: 'USUARIO',\n            _id: '',\n            users: [],\n            textButton: 'REGISTRAR',\n            header: 'Insertar Usuario',\n            modalOpen: false,\n            image: '...',\n            errors: {},\n            img_temp: '',\n            aux: '',\n            estado_update: false,\n            modalOpenPass: false,\n            newpassconfirm: '',\n            newpass: ''\n\n        }\n\n        this.showModal = this.showModal.bind(this);\n        this.hideModal = this.hideModal.bind(this);\n        this.showModalPass = this.showModalPass.bind(this);\n        this.hideModalPass = this.hideModalPass.bind(this);\n        this.handleChange = this.handleChange.bind(this)\n        this.addUser = this.addUser.bind(this)\n    }\n    componentDidMount() {//Es como el initComponents\n        this.getUsers();//Para que inicie la pantalla de tareas\n    }\n    getUsers() {\n        axios.get(`${REACT_APP_HOST}/api/users`).then((response) => {\n            this.setState({users: response.data});\n//            console.log(response.data);\n        })\n    }\n\n    addUser(e) {\n        e.preventDefault();\n\n        const {errors, ...sinErrors} = this.state;\n        const result = validation(sinErrors);\n        this.setState({errors: result});\n\n        if (!Object.keys(result).length) {\n            let datos = new FormData();\n            datos.append('nombre', this.state.nombre);\n            datos.append('apellido', this.state.apellido);\n            datos.append('cedula', this.state.cedula);\n            datos.append('user', this.state.user);\n            datos.append('pass', this.state.pass);\n            datos.append('correo', this.state.correo);\n            datos.append('telefono', this.state.telefono);\n            datos.append('rol', this.state.rol);\n//            datos.append('image', this.state.image.name);\n\n            if (this.state._id && this.state.aux === '') {\n//                console.log('modifico');\n                datos.append('image', this.state.image);\n            } else if (this.state._id && this.state.aux.name) {\n//                 console.log('modifico imagen');\n                datos.append('image', this.state.image.name);\n            } else {\n//                 console.log('guardo');\n                if (this.state.aux !== '') {\n                    datos.append('image', this.state.image.name);\n                } else {\n                    datos.append('image', '...');\n                }\n            }\n\n            if (this.state._id) {\n\n                if (this.state.aux.name) {\n                    this.deleteImage2();\n                    this.uploadImage2();\n                }\n\n                axios.put(`${REACT_APP_HOST}/api/users/` + this.state._id, datos).then(async(response) => {\n//                    let eliminar = await this.deleteImage();\n//                    let cargar = await this.uploadImage();\n                    Swal({\n                        title: 'Usuario Actualizada',\n                        icon: 'success',\n                        timer: 2000,\n                        button: false\n                    });\n                    this.getUsers();\n                    this.setState({nombre: '', apellido: '', cedula: '', user: '', pass: '', rol: 'USUARIO', _id: '', textButton: 'REGISTRAR', header: 'Insertar Usuario', modalOpen: false, aux: '', estado_update: false, image: '...', errors: {}});\n                })\n            } else {\n\n                axios.post(`${REACT_APP_HOST}/api/users`, datos).then(async(response) => {\n                    let cargar = await this.uploadImage();\n\n                    Swal({\n                        title: 'Usuario registrada',\n                        icon: 'success',\n                        timer: 2000,\n                        button: false\n                    });\n                    this.getUsers();\n\n                    this.setState({nombre: '', apellido: '', cedula: '', rol: 'USUARIO', user: '', pass: '', aux: '', image: '...'});\n                });\n            }\n\n        }\n\n    }\n\n    editUser(id) {\n        axios.get(`${REACT_APP_HOST}/api/users/` + id).then((response) => {\n//            console.log(response.data)\n            this.setState({\n                nombre: response.data.nombre,\n                apellido: response.data.apellido,\n                cedula: response.data.cedula,\n                user: response.data.user,\n                pass: response.data.pass,\n                telefono: response.data.telefono,\n                correo: response.data.correo,\n                rol: response.data.rol,\n                image: response.data.image,\n                img_temp: response.data.image,\n                _id: response.data._id,\n                textButton: 'ACTUALIZAR',\n                estado_update: true,\n                header: 'Actualizar Usuario'\n            });\n//            console.log(this.state.image)\n        });\n    }\n\n    validarEliminacion(id, image, nombre, apellido) {\n        axios.get(`${REACT_APP_HOST}/api/user_taller/` + id).then((response) => {\n            if (response.data <= 0) {\n                this.deleteUser(id, image, nombre, apellido);\n            } else {\n                Swal({\n                    title: '!Atención',\n                    text: 'Este Usuario tiene historial en el sistema, imposible eliminar',\n                    icon: 'warning',\n                    button: true\n                });\n            }\n        });\n    }\n\n    deleteUser(id, image, nombre, apellido) {\n        this.setState({img_temp: image});\n        Swal({\n            title: `Esta seguro de eliminar el Usuario ${nombre} ${apellido}`,\n            text: ' El usuario se eliminara definitivamente',\n            icon: 'warning',\n            buttons: ['Cancelar', 'Sí'],\n            dangerMode: true\n        }).then((value) => {\n            if (value) {\n                axios.delete(`${REACT_APP_HOST}/api/users/` + id).then(async(response) => {\n//                    console.log(response.data);\n                    if (this.state.img_temp !== '...') {\n                        let eliminar = await this.deleteImage();\n                    }\n                    Swal({\n                        title: 'Usuario eliminada',\n                        icon: 'success',\n                        timer: 1000,\n                        button: false\n                    });\n                    this.getUsers();\n                });\n            }\n        });\n    }\n\n    showModal() {\n        this.setState({modalOpen: true});\n    }\n    hideModal() {\n        this.setState({nombre: '', apellido: '', cedula: '', user: '', pass: '', rol: 'USUARIO', modalOpen: false,estado_update: false, textButton: 'REGISTRAR', header: 'Insertar Usuario', image: '...', errors: {}})\n    }\n\n    showModalPass() {\n        this.setState({modalOpenPass: true});\n    }\n    hideModalPass() {\n        this.setState({modalOpenPass: false,newpass:'',newpassconfirm:''});\n    }\n\n    handleChange(e) {\n        const{name, value} = e.target;\n        this.setState({[name]: value});\n//        console.log(e.target.value);\n    }\n\n    uploadImage = async() => {\n        var storageRef = storage.ref();\n        var spaceRef = storageRef.child(`images/imguser/${this.state.image.name}`);\n        return await spaceRef.put(this.state.image)\n\n    }\n    deleteImage = async() => {\n        var storageRef = storage.ref();\n        var spaceRef = storageRef.child(`images/imguser/${this.state.img_temp}`);\n        return await  spaceRef.delete();\n\n    }\n\n    uploadImage2 = () => {\n        var storageRef = storage.ref();\n        var spaceRef = storageRef.child(`images/imguser/${this.state.image.name}`);\n        return spaceRef.put(this.state.image);\n\n    }\n    deleteImage2 = () => {\n        var storageRef = storage.ref();\n        var spaceRef = storageRef.child(`images/imguser/${this.state.img_temp}`);\n        return  spaceRef.delete();\n\n    }\n\n    handleImageUpload = (e) => {\n\n        this.setState({image: e.target.files[0], aux: e.target.files[0]});\n//        console.log(e.target.files[0]);\n    }\n\n    downloadReporte = (e) => {\n        const newData = this.state.users.map(row => {\n            delete row._id;\n            delete row.__v;\n            delete row.pass;\n            return row;\n        })\n        const workSheet = XLSX.utils.json_to_sheet(newData);\n        const workBook = XLSX.utils.book_new();\n        XLSX.utils.book_append_sheet(workBook, workSheet, \"usuarios\");\n        //Buffer\n        let buf = XLSX.write(workBook, {bookType: \"xlsx\", type: \"buffer\"});\n        //Binary string\n        XLSX.write(workBook, {bookType: \"xlsx\", type: \"binary\"});\n        //Download\n        XLSX.writeFile(workBook, \"Usuarios.xlsx\");\n\n\n    }\n\n    resetearPassword = (e) => {\n        e.preventDefault();\n        const datos = {newpass: this.state.newpass, id_user:this.state._id}\n        if (this.state.newpass === this.state.newpassconfirm) {\n            axios.post(`${REACT_APP_HOST}/api/users/resetpassword`, datos).then((response) => {\n                if (response.data) {\n                    Swal({\n                        title: '!OK',\n                        text: 'La contraseña ha sido reseteada exitosamente',\n                        icon: 'success'\n                    });\n                }\n                this.setState({modalOpenPass: false});\n            });\n        } else {\n            Swal({\n                title: '!Atencion',\n                text: 'Las contraseñas no coinciden',\n                icon: 'warning'\n            });\n        }\n\n    }\n\n    render() {\n        const {errors} = this.state;\n        return (\n                <div className=\"container-fluid\">\n                    <Navigation />\n                    <div className=\"containerList\">\n                \n                \n                        <br/>\n                        <Button color=\"primary\" onClick={this.showModal}><FontAwesomeIcon icon={faUser}/> Nuevo Usuario</Button>\n                        <br/>\n                \n                        <br/>\n                        {this.state.users.length > 0 ?\n                                    <DataTable\n                            \n                                        columns={[\n                                                            {title: 'NOMBRE', field: 'nombre'},\n                                                            {title: 'APELLIDO', field: 'apellido'},\n                                                            {title: 'CÉDULA', field: 'cedula', type: 'numeric'},\n                                                            {title: 'USUARIO', field: 'user'},\n                                                            {title: 'ROL', field: 'rol'},\n                                                            {title: 'IMAGEN', field: 'image'},\n                                                        ]}\n                                        data={this.state.users}\n                                        title='Lista de Usuarios del Sistema'\n                                        actions={[\n                                                    {\n                                                        icon: () => <span className=\"btn btn-secondary btn-sm\" ><FontAwesomeIcon icon={faUnlockAlt}/></span>,\n                                                            tooltip: 'Resetear Password',\n                                                            onClick: (event, rowData) => {\n                                                                this.showModalPass();\n                                                                this.editUser(rowData._id);\n                                                            }\n                                                        },\n                                                        {\n                                                        icon: () => <span className=\"btn btn-warning btn-sm\" ><FontAwesomeIcon icon={faEdit}/></span>,\n                                                        tooltip: 'Editar Usuario',\n                                                        onClick: (event, rowData) => {\n                                                            this.showModal();\n                                                            this.editUser(rowData._id);\n                                                        }\n                                                    },\n                                                    {\n                                                            icon: () => <span className=\"btn btn-danger btn-sm\" ><FontAwesomeIcon icon={faTrash}/></span>,\n                                                            tooltip: 'Eliminar Usuario',\n                                                            onClick: (event, rowData) => this.validarEliminacion(rowData._id, rowData.image, rowData.nombre, rowData.apellido)\n                                                        },\n                                                        {\n                                                            icon: () => <span className=\"btn btn-success btn-sm\" ><FontAwesomeIcon icon={faFileExcel}/> Exportar</span>,\n                                                            tooltip: 'Exportar a Excel',\n                                                            onClick: () => this.downloadReporte(),\n                                                            isFreeAction: true\n                                                        }\n                                                    ]}\n                                        options={{\n                                                        actionsColumnIndex: -1,\n                                                        toolbar: true,\n                                                        exportButton: true,\n                                                        filtering: true,\n                                                        headerStyle: {\n                                                            backgroundColor: '#343a40',\n                                                            color: '#FFF'\n                                                        },\n                                                        padding: 'default', //dense\n                                                        pageSize: 8,\n                                                        pageSizeOptions: [8, 15, 30],\n                                                        paginationType: 'stepped'\n                                                    }}\n                                        localization={{\n                                                        pagination: paginacion,\n                                                        toolbar: {\n                                                            exportCSVName: \"Export some Excel format\",\n                                                            exportPDFName: \"Export as pdf!!\"\n                                                        },\n                                                        header: {\n                                                            actions: 'ACCIONES'\n                                                        }\n                                                    }}\n                                        style={{fontSize: \"12px\", padding: '15px', cellPadding: '0px'}}\n                                        />\n                                        : <h1>No hay Usuarios registrados</h1>}\n                            <Modal isOpen={this.state.modalOpen}>\n                                <ModalHeader>\n                                    <div><h3><FontAwesomeIcon icon={faUser}/> {this.state.header}</h3></div>\n                                </ModalHeader>\n                \n                                <ModalBody>\n                                    <form onSubmit={this.addUser} className=\"container\">\n                                        <div className=\"row\">\n                                         <InputGroup className=\"my-1\" >\n                                            <InputGroupText>\n                                                Nombres\n                                            </InputGroupText>\n                                                <input name=\"nombre\" onChange={this.handleChange} type=\"text\" className=\"form-control\" placeholder=\"Cristian\" value={this.state.nombre}/>\n                                        </InputGroup>    \n                                        {errors.nombre && <P errors={errors.nombre} />}\n                                        </div>\n                                        \n                                        <div className=\"row my-2\">\n                                         <InputGroup className=\"my-1\" >\n                                            <InputGroupText>\n                                                Apellidos\n                                            </InputGroupText>\n                                            <input name=\"apellido\" onChange={this.handleChange} type=\"text\" className=\"form-control\" placeholder=\"Paz\" value={this.state.apellido}/>\n                                        </InputGroup>    \n                                        {errors.apellido && <P errors={errors.apellido} />}\n                                        </div>  \n                                        \n                                        <div className=\"row\">\n                                         <InputGroup className=\"my-1\" >\n                                            <InputGroupText>\n                                                Cédula\n                                            </InputGroupText>\n                                            <input name=\"cedula\" onChange={this.handleChange} type=\"number\" className=\"form-control \" placeholder=\"1900xxxxxx\" value={this.state.cedula}/>\n                                        </InputGroup>   \n                                            {errors.cedula && <P errors={errors.cedula} />}\n                                        </div> \n                                        \n                                        <div className=\"row my-2\">\n                                         <InputGroup className=\"my-1\" >\n                                            <InputGroupText>\n                                                Usuario\n                                            </InputGroupText>\n                                            <input name=\"user\" onChange={this.handleChange} type=\"text\" className=\"form-control\" placeholder=\"cris\" value={this.state.user}/>\n                                        </InputGroup>    \n                                        {errors.user && <P errors={errors.user} />}\n                                        </div>\n                                        \n                                        {this.state.estado_update !== true ?\n                                    <div className=\"row\">\n                                    <InputGroup className=\"my-1\" >\n                                            <InputGroupText>\n                                                Contraseña\n                                            </InputGroupText>\n                                        <input name=\"pass\" onChange={this.handleChange} type=\"password\" className=\"form-control \" placeholder=\"*****\" value={this.state.pass}/>\n                                    </InputGroup>    \n                                        {errors.pass && <P errors={errors.pass} />}\n                                    \n                                     </div> : ''}\n                                    <div className=\"row my-2\">\n                                    <InputGroup className=\"my-1\" >\n                                            <InputGroupText>\n                                                Correo\n                                            </InputGroupText>\n                                        <input name=\"correo\" onChange={this.handleChange} type=\"email\" className=\"form-control \" placeholder=\"pcris.994@gmail.com\" value={this.state.correo}/>\n                                    </InputGroup>\n                                    </div>\n                                    \n                                    <div className=\"row my-2\">\n                                    <InputGroup className=\"my-1\" >\n                                            <InputGroupText>\n                                                Teléfono\n                                            </InputGroupText>\n                                        <input name=\"telefono\" onChange={this.handleChange} type=\"text\" className=\"form-control \" placeholder=\"0992094788\" value={this.state.telefono}/>\n                                    </InputGroup>    \n                                    </div>\n                                        <div className=\"row\">\n                                        <InputGroup className=\"my-1\" >\n                                            <InputGroupText>\n                                                Rol\n                                            </InputGroupText>\n                                            <select className=\"form-control\" name=\"rol\" onChange={this.handleChange} value={this.state.rol}>\n                                                <option>Selecione un Rol</option>\n                                                <option value=\"USUARIO\">USUARIO</option>\n                                                <option value=\"ADMINISTRADOR\">ADMINISTRADOR</option>\n                                            </select>\n                                        </InputGroup>    \n                                            {errors.rol && <P errors={errors.rol} />}\n                                        </div>                            \n                                        <div className=\"row my-2\">\n                                            <CustomInput className=\"form-control-sm\" name=\"image\" type=\"file\" onChange={this.handleImageUpload} id=\"image\" label='Seleccione una Foto' accept=\"image/png, .jpeg, .jpg\"/>\n                                        </div>\n                                        <br/>\n                \n                                        <Button id=\"btnInsertar\"><FontAwesomeIcon icon={faSave}/> {this.state.textButton}</Button>{' '}\n                                        <Button id=\"btnCancelar\" onClick={this.hideModal} className=\"btn btn-danger\" data-dismiss=\"modal\" aria-hidden=\"true\"><FontAwesomeIcon icon={faBan}/> CANCELAR</Button>\n                                    </form>\n                                </ModalBody>               \n                            </Modal>\n                \n                            <Modal isOpen={this.state.modalOpenPass}>\n                                <ModalHeader>\n                                    <div><h3>Resetear Password</h3></div>\n                                </ModalHeader>\n                \n                                <ModalBody>\n                                    <form onSubmit={this.resetearPassword} className=\"container\">\n                \n                                        <div className=\"row\">\n                                            <input name=\"newpass\" onChange={this.handleChange} type=\"password\" className=\"form-control form-control-sm\" placeholder=\"Ingrese la nueva contraseña\" required value={this.state.newpass}/>\n                                        </div>\n                                        <div className=\"row\">\n                                            <input name=\"newpassconfirm\" onChange={this.handleChange} type=\"password\" className=\"form-control form-control-sm\" placeholder=\"Confirme la nueva contraseña\" required value={this.state.newpassconfirm}/>\n                                        </div>\n                \n                                        <br/>\n                \n                                        <Button id=\"btnReset\"> <FontAwesomeIcon icon={faUnlockAlt}/> RESETEAR</Button>{' '}\n                                        <Button id=\"btnCancelar2\" onClick={this.hideModalPass} className=\"btn btn-danger\" data-dismiss=\"modal\" aria-hidden=\"true\"><FontAwesomeIcon icon={faBan}/> CANCELAR</Button>\n                                    </form>\n                                </ModalBody>               \n                            </Modal>\n                    </div>\n                </div>\n\n                );\n    }\n\n}\n\nexport default  AdminUsers;\n"]},"metadata":{},"sourceType":"module"}