{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN DEP IT\\\\Documents\\\\NetBeansProjects\\\\talleresfront\\\\src\\\\components\\\\Evaluacion.js\";\nimport React, { Component } from 'react';\nimport { Container, Button } from 'reactstrap';\nimport { render } from 'react-dom';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronCircleRight, faFeatherAlt } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  REACT_APP_HOST\n} = process.env;\nvar resp_correcta = [];\nvar cont_correctas = 0;\nvar cont_incorrectas = 0;\nvar punt = 0;\nvar puntuacion = 0;\n\nclass Evaluacion extends Component {\n  constructor() {\n    super();\n    this.state = {\n      preguntas_respuestas: [],\n      resultados: false,\n      deshabilitar: false\n    };\n  }\n\n  componentDidMount() {\n    this.getPreguntasRespuestas();\n  }\n\n  getPreguntasRespuestas() {\n    const {\n      match\n    } = this.props;\n    const id_taller = match.params.id;\n    axios.get(`${REACT_APP_HOST}/api/respuestas/` + id_taller).then(response => {\n      this.setState({\n        preguntas_respuestas: response.data\n      });\n      this.mostarEvaluacion();\n    });\n  }\n\n  mostarEvaluacion() {\n    const contenedor_eval = document.getElementById('contenedor_eval');\n    const preguntasYrespuestas = [];\n    this.state.preguntas_respuestas.map((preguntaAct, numPregunta) => {\n      const respuestas = [];\n      preguntaAct.respuestas.map((respuestaAct, numRespuesta) => {\n        respuestas.push(`<label><input type=\"radio\" id=\"${numPregunta}\" name=\"${numPregunta}\" value=\"${respuestaAct.respuesta}\"/> ${respuestaAct.respuesta}</label><br/> `);\n\n        if (respuestaAct.estadoresp === true) {\n          resp_correcta.push(`${respuestaAct.respuesta}`);\n        }\n      });\n      preguntasYrespuestas.push(`\n                        <div class=\"font-weight-bold\">${numPregunta + 1 + ':'} ${preguntaAct.pregunta}</div>\n                        <div class=\"respuestas pl-4 pt-2\">${respuestas.join('')}</div><hr/>\n                    `);\n    });\n    contenedor_eval.innerHTML = preguntasYrespuestas.join('');\n  }\n\n  validarRespuestas() {\n    cont_correctas = 0;\n    cont_incorrectas = 0;\n    const respuestas = document.querySelectorAll('.respuestas');\n    let estado = true;\n    this.state.preguntas_respuestas.map((respuestaAct, indexPreg) => {\n      const resp_x_preguntas = respuestas[indexPreg]; //agarro todos los input radio de la pregunta\n\n      const checkSelect = `input[name='${indexPreg}']:checked`; //agarro el input radio seleccionado\n\n      const resp_elegida = (resp_x_preguntas.querySelector(checkSelect) || {}).value; // de todas las resp_x_preguntas escogeme el chequeado\n      //            alert(resp_elegida + ':  ' + resp_correcta[indexPreg]);\n\n      if (resp_elegida !== undefined) {\n        if (resp_elegida === resp_correcta[indexPreg]) {\n          cont_correctas++;\n          this.pintarRespuestas(indexPreg, resp_correcta[indexPreg]);\n        } else {\n          cont_incorrectas++;\n          this.pintarRespuestas(indexPreg, resp_correcta[indexPreg]);\n        }\n      } else {\n        estado = false;\n        cont_correctas = 0;\n        cont_incorrectas = 0;\n        alert(`La pregunta ${indexPreg + 1} esta sin seleccionar`);\n      }\n    });\n\n    if (estado) {\n      this.setState({\n        resultados: true,\n        deshabilitar: true\n      });\n    }\n\n    var acmd = cont_correctas + cont_incorrectas;\n    punt = cont_correctas * 10 / acmd;\n    puntuacion = Math.round(punt); //        \n  }\n\n  pintarRespuestas(indexResp, resp_Correcta) {\n    const radios = document.getElementsByName(indexResp);\n\n    for (var i = 0; i < radios.length; i++) {\n      var radioCheckeado = radios[i].checked;\n\n      if (radioCheckeado === true) {\n        var respCheackeado = radios[i].value; //                var labelRadio = document.querySelector(`${indexResp}`).parentNode;\n\n        const labelRadio = document.querySelector(`input[name=\"${indexResp}\"]:checked`).parentNode; //Accede a los radios que tengan el nombre indexResp, verifica el que esta checheado y traeme el elemento padre\n\n        if (respCheackeado === resp_Correcta) {\n          labelRadio.style.color = 'green';\n          labelRadio.classList.add('font-weight-bold'); //                    labelRadio.classList.add('bg-success');\n          //                    labelRadio.classList.add('p-1');\n        } else {\n          labelRadio.style.color = 'red';\n          labelRadio.classList.add('font-weight-bold'); //                    labelRadio.classList.add('p-1');\n        }\n      }\n    }\n  }\n\n  bloquearRespuestas() {\n    alert('dd');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container col-md-10 bg-primary text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"p-2\",\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faFeatherAlt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 45\n          }, this), \" Evaluacion\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container col-md-10 border p-4\",\n        id: \"contenedor_eval\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container bg-primary clearfix  col-md-10 p-2 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-danger float-right\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: this.state.deshabilitar,\n            onClick: () => {\n              this.validarRespuestas();\n              this.bloquearRespuestas();\n            },\n            size: \"sm\",\n            color: \"success\",\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faChevronCircleRight\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 70\n            }, this), \" Calificar\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this), this.state.resultados ? /*#__PURE__*/_jsxDEV(Resultado, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 47\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nclass Resultado extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container col-md-7 border p-4 my-5\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-success container text-center p-1\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"font-weight-bold text-white\",\n              children: [\"Respuestas Correctas: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cont_correctas\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 102\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-danger container text-center p-1 my-2\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"font-weight-bold text-white\",\n              children: [\"Respuestas Incorrectas: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: cont_incorrectas\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 104\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-primary container text-center p-1 my-2\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"font-weight-bold text-white\",\n              children: [\"Su Puntuaci\\xF3n es: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: puntuacion\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 98\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default Evaluacion;","map":{"version":3,"sources":["C:/Users/ADMIN DEP IT/Documents/NetBeansProjects/talleresfront/src/components/Evaluacion.js"],"names":["React","Component","Container","Button","render","Link","useParams","axios","FontAwesomeIcon","faChevronCircleRight","faFeatherAlt","REACT_APP_HOST","process","env","resp_correcta","cont_correctas","cont_incorrectas","punt","puntuacion","Evaluacion","constructor","state","preguntas_respuestas","resultados","deshabilitar","componentDidMount","getPreguntasRespuestas","match","props","id_taller","params","id","get","then","response","setState","data","mostarEvaluacion","contenedor_eval","document","getElementById","preguntasYrespuestas","map","preguntaAct","numPregunta","respuestas","respuestaAct","numRespuesta","push","respuesta","estadoresp","pregunta","join","innerHTML","validarRespuestas","querySelectorAll","estado","indexPreg","resp_x_preguntas","checkSelect","resp_elegida","querySelector","value","undefined","pintarRespuestas","alert","acmd","Math","round","indexResp","resp_Correcta","radios","getElementsByName","i","length","radioCheckeado","checked","respCheackeado","labelRadio","parentNode","style","color","classList","add","bloquearRespuestas","Resultado"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,SAAR,EAAmBC,MAAnB,QAA+B,YAA/B;AACA,SAAQC,MAAR,QAAoB,WAApB;AACA,SAAOC,IAAP,EAAaC,SAAb,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAiB,OAAjB;AACA,SAASC,eAAT,QAA+B,gCAA/B;AACA,SAAQC,oBAAR,EAA8BC,YAA9B,QAAgD,mCAAhD;;AAEQ,MAAK;AAACC,EAAAA;AAAD,IAAmBC,OAAO,CAACC,GAAhC;AACR,IAAIC,aAAa,GAAG,EAApB;AACA,IAAIC,cAAc,GAAG,CAArB;AACA,IAAIC,gBAAgB,GAAG,CAAvB;AACA,IAAIC,IAAI,GAAG,CAAX;AACA,IAAIC,UAAU,GAAG,CAAjB;;AAEA,MAAMC,UAAN,SAAyBlB,SAAzB,CAAmC;AAE/BmB,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,oBAAoB,EAAE,EADb;AAETC,MAAAA,UAAU,EAAE,KAFH;AAGTC,MAAAA,YAAY,EAAC;AAHJ,KAAb;AAKH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,sBAAL;AAEH;;AAEDA,EAAAA,sBAAsB,GAAG;AACrB,UAAM;AAACC,MAAAA;AAAD,QAAU,KAAKC,KAArB;AACA,UAAMC,SAAS,GAAGF,KAAK,CAACG,MAAN,CAAaC,EAA/B;AACAxB,IAAAA,KAAK,CAACyB,GAAN,CAAW,GAAErB,cAAe,kBAAlB,GAAsCkB,SAAhD,EAA2DI,IAA3D,CAAiEC,QAAD,IAAc;AAC1E,WAAKC,QAAL,CAAc;AAACb,QAAAA,oBAAoB,EAAEY,QAAQ,CAACE;AAAhC,OAAd;AACA,WAAKC,gBAAL;AACH,KAHD;AAIH;;AACDA,EAAAA,gBAAgB,GAAG;AACf,UAAMC,eAAe,GAAGC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAAxB;AACA,UAAMC,oBAAoB,GAAG,EAA7B;AACA,SAAKpB,KAAL,CAAWC,oBAAX,CAAgCoB,GAAhC,CAAoC,CAACC,WAAD,EAAcC,WAAd,KAA8B;AAC9D,YAAMC,UAAU,GAAG,EAAnB;AACAF,MAAAA,WAAW,CAACE,UAAZ,CAAuBH,GAAvB,CAA2B,CAACI,YAAD,EAAeC,YAAf,KAAgC;AACvDF,QAAAA,UAAU,CAACG,IAAX,CACS,kCAAiCJ,WAAY,WAAUA,WAAY,YAAWE,YAAY,CAACG,SAAU,OAAMH,YAAY,CAACG,SAAU,gBAD3I;;AAGA,YAAIH,YAAY,CAACI,UAAb,KAA4B,IAAhC,EAAsC;AAClCpC,UAAAA,aAAa,CAACkC,IAAd,CAAoB,GAAEF,YAAY,CAACG,SAAU,EAA7C;AACH;AACJ,OAPD;AASAR,MAAAA,oBAAoB,CAACO,IAArB,CACS;AACrB,wDAAwDJ,WAAW,GAAG,CAAd,GAAkB,GAAI,IAAGD,WAAW,CAACQ,QAAS;AACtG,4DAA4DN,UAAU,CAACO,IAAX,CAAgB,EAAhB,CAAoB;AAChF,qBAJY;AAOH,KAlBD;AAmBAd,IAAAA,eAAe,CAACe,SAAhB,GAA4BZ,oBAAoB,CAACW,IAArB,CAA0B,EAA1B,CAA5B;AAEH;;AAEDE,EAAAA,iBAAiB,GAAG;AAChBvC,IAAAA,cAAc,GAAG,CAAjB;AACAC,IAAAA,gBAAgB,GAAG,CAAnB;AACA,UAAM6B,UAAU,GAAGN,QAAQ,CAACgB,gBAAT,CAA0B,aAA1B,CAAnB;AAEA,QAAIC,MAAM,GAAG,IAAb;AAEA,SAAKnC,KAAL,CAAWC,oBAAX,CAAgCoB,GAAhC,CAAoC,CAACI,YAAD,EAAeW,SAAf,KAA6B;AAC7D,YAAMC,gBAAgB,GAAGb,UAAU,CAACY,SAAD,CAAnC,CAD6D,CACd;;AAC/C,YAAME,WAAW,GAAI,eAAcF,SAAU,YAA7C,CAF6D,CAEH;;AAC1D,YAAMG,YAAY,GAAG,CAACF,gBAAgB,CAACG,aAAjB,CAA+BF,WAA/B,KAA+C,EAAhD,EAAoDG,KAAzE,CAH6D,CAGmB;AAC5F;;AACY,UAAIF,YAAY,KAAKG,SAArB,EAAgC;AAC5B,YAAIH,YAAY,KAAK9C,aAAa,CAAC2C,SAAD,CAAlC,EAA+C;AAC3C1C,UAAAA,cAAc;AACd,eAAKiD,gBAAL,CAAsBP,SAAtB,EAAiC3C,aAAa,CAAC2C,SAAD,CAA9C;AACH,SAHD,MAGO;AACHzC,UAAAA,gBAAgB;AAChB,eAAKgD,gBAAL,CAAsBP,SAAtB,EAAiC3C,aAAa,CAAC2C,SAAD,CAA9C;AACH;AACJ,OARD,MAQO;AACHD,QAAAA,MAAM,GAAG,KAAT;AACAzC,QAAAA,cAAc,GAAG,CAAjB;AACAC,QAAAA,gBAAgB,GAAG,CAAnB;AACAiD,QAAAA,KAAK,CAAE,eAAcR,SAAS,GAAG,CAAE,uBAA9B,CAAL;AACH;AAEJ,KApBD;;AAqBA,QAAID,MAAJ,EAAY;AACR,WAAKrB,QAAL,CAAc;AAACZ,QAAAA,UAAU,EAAE,IAAb;AAAmBC,QAAAA,YAAY,EAAC;AAAhC,OAAd;AACH;;AACD,QAAI0C,IAAI,GAAGnD,cAAc,GAAGC,gBAA5B;AACAC,IAAAA,IAAI,GAAGF,cAAc,GAAG,EAAjB,GAAsBmD,IAA7B;AACAhD,IAAAA,UAAU,GAAGiD,IAAI,CAACC,KAAL,CAAWnD,IAAX,CAAb,CAjCgB,CAmCxB;AACK;;AAED+C,EAAAA,gBAAgB,CAACK,SAAD,EAAYC,aAAZ,EAA2B;AACvC,UAAMC,MAAM,GAAGhC,QAAQ,CAACiC,iBAAT,CAA2BH,SAA3B,CAAf;;AACA,SAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAAM,CAACG,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACpC,UAAIE,cAAc,GAAGJ,MAAM,CAACE,CAAD,CAAN,CAAUG,OAA/B;;AACA,UAAID,cAAc,KAAK,IAAvB,EAA6B;AACzB,YAAIE,cAAc,GAAGN,MAAM,CAACE,CAAD,CAAN,CAAUX,KAA/B,CADyB,CAEzC;;AACgB,cAAMgB,UAAU,GAAGvC,QAAQ,CAACsB,aAAT,CAAwB,eAAcQ,SAAU,YAAhD,EAA6DU,UAAhF,CAHyB,CAGkE;;AAC3F,YAAIF,cAAc,KAAKP,aAAvB,EAAsC;AAClCQ,UAAAA,UAAU,CAACE,KAAX,CAAiBC,KAAjB,GAAyB,OAAzB;AACAH,UAAAA,UAAU,CAACI,SAAX,CAAqBC,GAArB,CAAyB,kBAAzB,EAFkC,CAGtD;AACA;AACiB,SALD,MAKO;AACHL,UAAAA,UAAU,CAACE,KAAX,CAAiBC,KAAjB,GAAyB,KAAzB;AACAH,UAAAA,UAAU,CAACI,SAAX,CAAqBC,GAArB,CAAyB,kBAAzB,EAFG,CAGvB;AAEiB;AACJ;AAEJ;AAGJ;;AAEDC,EAAAA,kBAAkB,GAAE;AAChBnB,IAAAA,KAAK,CAAC,IAAD,CAAL;AACH;;AAED7D,EAAAA,MAAM,GAAG;AACL,wBACQ,QAAC,SAAD;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,2CAAf;AAAA,+BACI;AAAI,UAAA,SAAS,EAAC,KAAd;AAAA,kCAAoB,QAAC,eAAD;AAAiB,YAAA,IAAI,EAAEM;AAAvB;AAAA;AAAA;AAAA;AAAA,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAgD,QAAA,EAAE,EAAC;AAAnD;AAAA;AAAA;AAAA;AAAA,cAJJ,eAOI;AAAK,QAAA,SAAS,EAAC,+CAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,iCACI,QAAC,MAAD;AAAQ,YAAA,QAAQ,EAAE,KAAKW,KAAL,CAAWG,YAA7B;AAA2C,YAAA,OAAO,EAAE,MAAM;AAClD,mBAAK8B,iBAAL;AACA,mBAAK8B,kBAAL;AACK,aAHb;AAGe,YAAA,IAAI,EAAC,IAHpB;AAGyB,YAAA,KAAK,EAAC,SAH/B;AAAA,oCAGyC,QAAC,eAAD;AAAiB,cAAA,IAAI,EAAE3E;AAAvB;AAAA;AAAA;AAAA;AAAA,oBAHzC;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAPJ,EAeM,KAAKY,KAAL,CAAWE,UAAX,gBAAwB,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,cAAxB,GAAuC,IAf7C;AAAA;AAAA;AAAA;AAAA;AAAA,YADR;AAmBH;;AA1I8B;;AA6InC,MAAM8D,SAAN,SAAwBpF,SAAxB,CAAkC;AAC9BG,EAAAA,MAAM,GAAG;AACL,wBACQ,QAAC,SAAD;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,oCAAf;AAAA,+BACI;AAAA,kCACI;AAAM,YAAA,SAAS,EAAC,sCAAhB;AAAA,mCACI;AAAO,cAAA,SAAS,EAAC,6BAAjB;AAAA,gEAAqE;AAAA,0BAAOW;AAAP;AAAA;AAAA;AAAA;AAAA,sBAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI;AAAM,YAAA,SAAS,EAAC,0CAAhB;AAAA,mCACI;AAAO,cAAA,SAAS,EAAC,6BAAjB;AAAA,kEAAuE;AAAA,0BAAOC;AAAP;AAAA;AAAA;AAAA;AAAA,sBAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBALJ,eASI;AAAM,YAAA,SAAS,EAAC,2CAAhB;AAAA,mCACI;AAAO,cAAA,SAAS,EAAC,6BAAjB;AAAA,+DAAiE;AAAA,0BAAOE;AAAP;AAAA;AAAA;AAAA;AAAA,sBAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADR;AAmBH;;AArB6B;;AAwBlC,eAAeC,UAAf","sourcesContent":["import React, {Component} from 'react';\nimport {Container, Button} from'reactstrap'\nimport {render}from 'react-dom';\nimport{Link, useParams} from'react-router-dom';\nimport axios from'axios';\nimport { FontAwesomeIcon }from '@fortawesome/react-fontawesome'\nimport {faChevronCircleRight, faFeatherAlt}from '@fortawesome/free-solid-svg-icons'\n\n        const{REACT_APP_HOST} = process.env;\nvar resp_correcta = [];\nvar cont_correctas = 0;\nvar cont_incorrectas = 0;\nvar punt = 0;\nvar puntuacion = 0;\n\nclass Evaluacion extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            preguntas_respuestas: [],\n            resultados: false,\n            deshabilitar:false\n        }\n    }\n\n    componentDidMount() {\n        this.getPreguntasRespuestas();\n\n    }\n\n    getPreguntasRespuestas() {\n        const {match} = this.props;\n        const id_taller = match.params.id;\n        axios.get(`${REACT_APP_HOST}/api/respuestas/` + id_taller).then((response) => {\n            this.setState({preguntas_respuestas: response.data});\n            this.mostarEvaluacion();\n        });\n    }\n    mostarEvaluacion() {\n        const contenedor_eval = document.getElementById('contenedor_eval');\n        const preguntasYrespuestas = [];\n        this.state.preguntas_respuestas.map((preguntaAct, numPregunta) => {\n            const respuestas = [];\n            preguntaAct.respuestas.map((respuestaAct, numRespuesta) => {\n                respuestas.push(\n                        `<label><input type=\"radio\" id=\"${numPregunta}\" name=\"${numPregunta}\" value=\"${respuestaAct.respuesta}\"/> ${respuestaAct.respuesta}</label><br/> `\n                        );\n                if (respuestaAct.estadoresp === true) {\n                    resp_correcta.push(`${respuestaAct.respuesta}`);\n                }\n            });\n\n            preguntasYrespuestas.push(\n                    `\n                        <div class=\"font-weight-bold\">${numPregunta + 1 + ':'} ${preguntaAct.pregunta}</div>\n                        <div class=\"respuestas pl-4 pt-2\">${respuestas.join('')}</div><hr/>\n                    `\n                    );\n\n        });\n        contenedor_eval.innerHTML = preguntasYrespuestas.join('');\n\n    }\n\n    validarRespuestas() {\n        cont_correctas = 0;\n        cont_incorrectas = 0;\n        const respuestas = document.querySelectorAll('.respuestas');\n\n        let estado = true;\n\n        this.state.preguntas_respuestas.map((respuestaAct, indexPreg) => {\n            const resp_x_preguntas = respuestas[indexPreg];//agarro todos los input radio de la pregunta\n            const checkSelect = `input[name='${indexPreg}']:checked`; //agarro el input radio seleccionado\n            const resp_elegida = (resp_x_preguntas.querySelector(checkSelect) || {}).value; // de todas las resp_x_preguntas escogeme el chequeado\n//            alert(resp_elegida + ':  ' + resp_correcta[indexPreg]);\n            if (resp_elegida !== undefined) {\n                if (resp_elegida === resp_correcta[indexPreg]) {\n                    cont_correctas++;\n                    this.pintarRespuestas(indexPreg, resp_correcta[indexPreg]);\n                } else {\n                    cont_incorrectas++;\n                    this.pintarRespuestas(indexPreg, resp_correcta[indexPreg]);\n                }\n            } else {\n                estado = false;\n                cont_correctas = 0;\n                cont_incorrectas = 0;\n                alert(`La pregunta ${indexPreg + 1} esta sin seleccionar`)\n            }\n\n        });\n        if (estado) {\n            this.setState({resultados: true, deshabilitar:true});\n        }\n        var acmd = cont_correctas + cont_incorrectas;\n        punt = cont_correctas * 10 / acmd;\n        puntuacion = Math.round(punt);\n\n//        \n    }\n\n    pintarRespuestas(indexResp, resp_Correcta) {\n        const radios = document.getElementsByName(indexResp);\n        for (var i = 0; i < radios.length; i++) {\n            var radioCheckeado = radios[i].checked;\n            if (radioCheckeado === true) {\n                var respCheackeado = radios[i].value;\n//                var labelRadio = document.querySelector(`${indexResp}`).parentNode;\n                const labelRadio = document.querySelector(`input[name=\"${indexResp}\"]:checked`).parentNode;//Accede a los radios que tengan el nombre indexResp, verifica el que esta checheado y traeme el elemento padre\n                if (respCheackeado === resp_Correcta) {\n                    labelRadio.style.color = 'green';\n                    labelRadio.classList.add('font-weight-bold')\n//                    labelRadio.classList.add('bg-success');\n//                    labelRadio.classList.add('p-1');\n                } else {\n                    labelRadio.style.color = 'red';\n                    labelRadio.classList.add('font-weight-bold');\n//                    labelRadio.classList.add('p-1');\n\n                }\n            }\n\n        }\n\n\n    }\n    \n    bloquearRespuestas(){\n        alert('dd')\n    }\n\n    render() {\n        return(\n                <Container>\n                    <div className='container col-md-10 bg-primary text-white'>\n                        <h2 className=\"p-2\"><FontAwesomeIcon icon={faFeatherAlt}/> Evaluacion</h2>\n                    </div>\n                    <div className='container col-md-10 border p-4' id='contenedor_eval'>\n                \n                    </div>\n                    <div className='container bg-primary clearfix  col-md-10 p-2 '>\n                        <div className='bg-danger float-right'>\n                            <Button disabled={this.state.deshabilitar} onClick={() => {\n                                    this.validarRespuestas();\n                                    this.bloquearRespuestas();\n                                        }} size='sm' color='success'><FontAwesomeIcon icon={faChevronCircleRight}/> Calificar</Button>\n                        </div>\n                    </div>\n                    { this.state.resultados ? <Resultado/> : null}\n                </Container>\n                );\n    }\n}\n\nclass Resultado extends Component {\n    render() {\n        return(\n                <Container>\n                    <div className=\"container col-md-7 border p-4 my-5\">\n                        <form >\n                            <div  className=\"bg-success container text-center p-1\">\n                                <label className=\"font-weight-bold text-white\">Respuestas Correctas: <span>{cont_correctas}</span></label>\n                            </div>\n                \n                            <div  className=\"bg-danger container text-center p-1 my-2\">\n                                <label className=\"font-weight-bold text-white\">Respuestas Incorrectas: <span>{cont_incorrectas}</span></label>\n                            </div>\n                \n                            <div  className=\"bg-primary container text-center p-1 my-2\">\n                                <label className=\"font-weight-bold text-white\">Su Puntuación es: <span>{puntuacion}</span></label>\n                            </div>\n                        </form>\n                    </div>\n                </Container>\n                );\n    }\n}\n\nexport default Evaluacion;\n\n\n"]},"metadata":{},"sourceType":"module"}