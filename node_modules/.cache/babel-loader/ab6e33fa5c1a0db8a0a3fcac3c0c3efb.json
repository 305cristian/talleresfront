{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN DEP IT\\\\Documents\\\\NetBeansProjects\\\\talleresfront\\\\src\\\\components\\\\AdminResultados.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { render } from 'react-dom';\nimport { Container, Table, Modal, ModalHeader, ModalBody, Row, Col, Button } from 'reactstrap';\nimport Navigation from '../components/Navigation';\nimport axios from 'axios';\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle, faExclamationCircle, faFileDownload, faTimesCircle, faExclamationTriangle, faSearch } from '@fortawesome/free-solid-svg-icons'; //Bootstrap and jQuery libraries\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'jquery/dist/jquery.min.js'; //Datatable Modules\n\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport $ from 'jquery';\nimport 'datatables.net-buttons-dt';\nimport 'datatables.net-buttons/js/buttons.colVis.js';\nimport 'datatables.net-buttons/js/buttons.html5.js';\nimport 'datatables.net-buttons/js/buttons.print.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  REACT_APP_HOST\n} = process.env;\nvar t_c = [];\nvar talleres_comp = [];\nvar usuario_nota_list = [];\nvar respuestas_consolidado = [];\n\nclass AdminResultados extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      //        console.log(e.target.value);\n      if (e.target.type === 'checkbox') {\n        var value = e.target.checked;\n        var name = e.target.name;\n      } else {\n        var {\n          name,\n          value\n        } = e.target;\n      } //       \n\n\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      talleres: [],\n      usuarios: [],\n      user_talleres: [],\n      //Modal\n      modalOpen: false,\n      puntuacion: '',\n      resultados: [],\n      //Para el consolidado\n      preguntas: [],\n      resultados_taller: [],\n      modalOpen_consolidadod: false,\n      taller: '',\n      listaAreas: [],\n      area_id: '-1'\n    };\n  }\n\n  componentDidMount() {\n    this.getTalleres();\n    this.showAreas(); //initialize datatable\n  }\n\n  getTalleres() {\n    axios.get(`${REACT_APP_HOST}/api/talleres`).then(response => {\n      this.setState({\n        talleres: response.data\n      });\n      this.getUsuarios();\n    });\n  }\n\n  getTalleresXAreas() {\n    if (this.state.area_id === '-1') {\n      axios.get(`${REACT_APP_HOST}/api/talleres`).then(response => {\n        this.setState({\n          talleres: response.data\n        });\n      });\n    } else {\n      axios.post(`${REACT_APP_HOST}/api/talleres_ar/` + this.state.area_id).then(response => {\n        this.setState({\n          talleres: response.data\n        }); //            console.log(response.data);\n      });\n    }\n  }\n\n  getUsuarios() {\n    axios.get(`${REACT_APP_HOST}/api/users`).then(response => {\n      this.setState({\n        usuarios: response.data\n      });\n      this.getUserTaller();\n    });\n  }\n\n  getUserTaller() {\n    axios.get(`${REACT_APP_HOST}/api/user_taller/`).then(response => {\n      this.setState({\n        user_talleres: response.data\n      }); //            console.log('======>> ' + response.data)\n\n      this.datatabla();\n    });\n  }\n\n  usuarios_nota(id_taller) {\n    var usuario_nota = [];\n    var returnedobj = [];\n    this.state.usuarios.map(data => {\n      var puntuacion = '';\n      var estado = false;\n      this.state.user_talleres.map(data2 => {\n        if (data._id === data2.id_user && data2.id_taller === id_taller) {\n          estado = true;\n          puntuacion = data2.puntuacion;\n        }\n      });\n\n      if (estado) {\n        returnedobj = Object.assign(data, {\n          puntuacion: puntuacion\n        });\n      } else {\n        returnedobj = Object.assign(data, {\n          puntuacion: '-'\n        });\n      }\n\n      usuario_nota.push(returnedobj);\n    });\n    usuario_nota_list = usuario_nota;\n  }\n\n  datatabla() {\n    $(document).ready(function () {\n      $('#resultados').DataTable({\n        language: {\n          url: \"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json\"\n        },\n        dom: \"<'row'<'col-sm-12 col-md-12 text-left'B>>\" + \"<'row'<'col-sm-12'tr>>\" + \"<'row'<'col-sm-12'tr>>\" + \"<'row'<'col-sm-12 my-1'>>\" + \"<'row'<'col-sm-12 col-md-5 text-left'l><'col-sm-12 col-md-7'f>>\" + \"<'row'<'col-sm-12'tr>>\" + \"<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>\",\n        buttons: [// 'copy', 'csv', 'excel', 'print'\n        {\n          extend: 'copy',\n          text: 'Copiar',\n          titleAttr: 'Copiar Tabla',\n          className: 'btn btn-info btn-sm '\n        }, {\n          extend: 'csv',\n          text: 'Excel',\n          titleAttr: 'Copiar Tabla',\n          className: 'btn btn-success btn-sm  '\n        }, {\n          extend: 'print',\n          text: 'Imprimir',\n          titleAttr: 'Copiar Tabla',\n          className: 'btn btn-dark btn-sm  '\n        }]\n      });\n    });\n  }\n\n  marcarCompletado(user, index) {\n    //        alert(user);\n    var taller_completado = [];\n    var returnedobj = [];\n    this.state.talleres.map((taller, i) => {\n      var estado = '0';\n      var puntuacion = '';\n      this.state.user_talleres.map((user_taller, j) => {\n        if (user === user_taller.id_user) {\n          if (taller._id === user_taller.id_taller) {\n            estado = '1';\n            puntuacion = user_taller.puntuacion;\n          }\n        }\n      });\n\n      if (estado === '1') {\n        returnedobj = Object.assign(taller, {\n          estado: '1',\n          puntuacion: puntuacion\n        }); //                console.log(user + '--' + taller._id + '--' + puntuacion + '  est:1')\n        //                console.log(returnedobj)\n      } else {\n        returnedobj = Object.assign(taller, {\n          estado: '0'\n        });\n      }\n\n      taller_completado.push(returnedobj);\n    }); //        console.log(taller_completado);\n\n    talleres_comp = taller_completado; //        console.log('--- ',talleres_comp)\n  }\n\n  getNotas(id_user, id_taller) {\n    axios.get(`${REACT_APP_HOST}/api/user_taller/` + id_user + '/' + id_taller + '/0').then(response => {\n      if (response.data) {\n        this.setState({\n          puntuacion: response.data.puntuacion\n        });\n      }\n    });\n  } //ABRE MODAL RESULTADOS\n\n\n  modalOpen(id_user, id_taller, puntuacion) {\n    this.getNotas(id_user, id_taller);\n    this.setState({\n      modalOpen: true\n    });\n    this.showResultados(id_user, id_taller);\n  }\n\n  showResultados(id_user, id_taller) {\n    axios.get(`${REACT_APP_HOST}/api/resultados/` + id_user + '/' + id_taller).then(response => {\n      this.setState({\n        resultados: response.data\n      });\n    });\n  }\n\n  hideModalEval() {\n    this.setState({\n      modalOpen: false\n    });\n  } //CIERRA MODAL RESULTADOS\n  //ABRE MODAL CONSOLIDADO\n\n\n  show_consolidado(id_taller) {\n    this.setState({\n      modalOpen_consolidadod: true\n    });\n    this.show_consolidado_data(id_taller);\n  }\n\n  show_consolidado_data(taller_id) {\n    axios.get(`${REACT_APP_HOST}/api/preguntas/` + taller_id).then(response => {\n      this.setState({\n        preguntas: response.data,\n        taller: taller_id\n      });\n      this.get_resultados(taller_id); //            alert(this.state.taller);\n\n      this.usuarios_nota(this.state.taller);\n    });\n  }\n\n  get_resultados(taller_id) {\n    axios.get(`${REACT_APP_HOST}/api/resultados/` + taller_id).then(response => {\n      this.setState({\n        resultados_taller: response.data\n      });\n    });\n  }\n\n  respuestas_user(id_user) {\n    var respuestas_consol = [];\n    this.state.preguntas.map((preg, i) => {\n      this.state.resultados_taller.map((resp, j) => {\n        if (preg._id === resp.id_preg && id_user === resp.id_user) {\n          //                        alert(id_user+'  '+ preg.pregunta+'  : '+resp.resp)\n          respuestas_consol.push(resp.resp);\n        }\n      });\n    });\n    respuestas_consolidado = respuestas_consol;\n  }\n\n  hideModal_consolidado() {\n    this.setState({\n      modalOpen_consolidadod: false\n    });\n  } // CIERRA MODAL CONSOLIDADO\n\n\n  async showAreas() {\n    const response = await axios.get(`${REACT_APP_HOST}/api/areas`);\n\n    if (response) {\n      this.setState({\n        listaAreas: response.data\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 21\n      }, this), this.state.user_talleres.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerList my-3\",\n        style: {\n          overflowX: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" container-fluid col-md-12 row my-2 justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-control col-md-4\",\n            onChange: this.handleChange,\n            name: \"area_id\",\n            value: this.state.area_id,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"-1\",\n              children: \"Todas las \\xC1reas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 49\n            }, this), this.state.listaAreas.map(data => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: data._id,\n              children: data.title\n            }, data._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 61\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              this.getTalleresXAreas();\n            },\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faSearch\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 100\n            }, this), \" Filtrar \\xC1rea\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"resultados\",\n          className: \"table table-nowrap\",\n          style: {\n            fontSize: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 53\n              }, this), this.state.talleres.map((data, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success btn-sm\",\n                  onClick: () => {\n                    this.show_consolidado(data._id);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faFileDownload\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 88\n                  }, this), \" Exportar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 80\n                }, this)\n              }, data._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 61\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 49\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-dark text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"USUARIO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"CEDULA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 53\n              }, this), this.state.talleres.map((data, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n                children: data.title\n              }, data._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 57\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.usuarios.map((data, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: [data.nombre, ' ', data.apellido]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 69\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: data.cedula\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 69\n              }, this), this.marcarCompletado(data._id, index), talleres_comp.map(data2 => /*#__PURE__*/_jsxDEV(\"td\", {\n                children: data2.estado === '1' ? /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  onClick: () => {\n                    this.modalOpen(data._id, data2._id);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \" text-success\",\n                    children: [\"Completo \", data2.puntuacion, \" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faCheckCircle\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 354,\n                      columnNumber: 204\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 144\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 129\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-warning badge\",\n                  children: [\"En curso \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faExclamationCircle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 181\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 135\n                }, this)\n              }, data2._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 101\n              }, this))]\n            }, data._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 65\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 37\n      }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-warning\",\n        children: [\"! No se ha gerenado ninguna capacitacion para poder mostrar resultados \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faExclamationTriangle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 131\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.modalOpen,\n        size: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-2 border\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: \"11\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Resultados de La evaluaci\\xF3n  \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge bg-success text-white\",\n                  children: [this.state.puntuacion, \"/10\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 66\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: \"1\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"danger\",\n                size: \"sm\",\n                onClick: () => {\n                  this.hideModalEval();\n                },\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12\",\n            children: this.state.resultados.map((data, index) => {\n              return /*#__PURE__*/_jsxDEV(Container, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [index + 1 + ')', \" \", data.preg_taller.pregunta]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 98\n                }, this), data.estado_resp === '1' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-success\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"ml-5\",\n                    children: data.resp\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 120\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 89\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-danger font-weight-bold\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"ml-5\",\n                    children: data.resp\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 152\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 105\n                }, this)]\n              }, data._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 61\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.modalOpen_consolidadod,\n        style: {\n          maxWidth: '1300px',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-10\",\n            children: /*#__PURE__*/_jsxDEV(ReactHTMLTableToExcel, {\n              id: \"btn-export-excel\",\n              className: \"btn btn-success\",\n              table: \"consolidado\",\n              filename: \"Consolidado de Respuestas\",\n              sheet: \"HOJA 1\",\n              buttonText: \"Descargar Archivo XLS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"my-2 text-right\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                color: \"danger\",\n                size: \"sm\",\n                onClick: () => {\n                  this.hideModal_consolidado();\n                },\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faTimesCircle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 145\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 62\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" my-3\",\n            style: {\n              overflowX: 'auto'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              id: \"consolidado\",\n              className: \"table table-nowrap\",\n              style: {\n                fontSize: '11px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-dark text-white\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"USUARIO\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"CEDULA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"bg-info text-center\",\n                    children: \"NOTA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 45\n                  }, this), this.state.preguntas.map((data, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: data.pregunta\n                  }, data._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 53\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: usuario_nota_list.map((data, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [data.nombre, ' ', data.apellido]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: data.cedula\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"bg-info text-center text-white\",\n                    children: data.puntuacion\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 57\n                  }, this), this.respuestas_user(data._id, index), respuestas_consolidado.map((data2, j) => /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\" \", data2]\n                  }, j, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 109\n                  }, this))]\n                }, data._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 53\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-2 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"danger\",\n            size: \"sm\",\n            onClick: () => {\n              this.hideModal_consolidado();\n            },\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faTimesCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 24\n            }, this), \" Close\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 59\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default AdminResultados;","map":{"version":3,"sources":["C:/Users/ADMIN DEP IT/Documents/NetBeansProjects/talleresfront/src/components/AdminResultados.js"],"names":["React","Component","Link","render","Container","Table","Modal","ModalHeader","ModalBody","Row","Col","Button","Navigation","axios","ReactHTMLTableToExcel","FontAwesomeIcon","faCheckCircle","faExclamationCircle","faFileDownload","faTimesCircle","faExclamationTriangle","faSearch","$","REACT_APP_HOST","process","env","t_c","talleres_comp","usuario_nota_list","respuestas_consolidado","AdminResultados","constructor","handleChange","e","target","type","value","checked","name","setState","state","talleres","usuarios","user_talleres","modalOpen","puntuacion","resultados","preguntas","resultados_taller","modalOpen_consolidadod","taller","listaAreas","area_id","componentDidMount","getTalleres","showAreas","get","then","response","data","getUsuarios","getTalleresXAreas","post","getUserTaller","datatabla","usuarios_nota","id_taller","usuario_nota","returnedobj","map","estado","data2","_id","id_user","Object","assign","push","document","ready","DataTable","language","url","dom","buttons","extend","text","titleAttr","className","marcarCompletado","user","index","taller_completado","i","user_taller","j","getNotas","showResultados","hideModalEval","show_consolidado","show_consolidado_data","taller_id","get_resultados","respuestas_user","respuestas_consol","preg","resp","id_preg","hideModal_consolidado","length","overflowX","title","fontSize","nombre","apellido","cedula","preg_taller","pregunta","estado_resp","maxWidth","width"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport{Link} from'react-router-dom';\nimport {render}from'react-dom';\nimport {Container, Table, Modal, ModalHeader, ModalBody, Row, Col, Button}from 'reactstrap';\nimport Navigation from '../components/Navigation';\nimport axios from 'axios';\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel';\nimport { FontAwesomeIcon }from '@fortawesome/react-fontawesome';\nimport {faCheckCircle, faExclamationCircle, faFileDownload, faTimesCircle, faExclamationTriangle, faSearch}from '@fortawesome/free-solid-svg-icons';\n\n//Bootstrap and jQuery libraries\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'jquery/dist/jquery.min.js';\n//Datatable Modules\nimport \"datatables.net-dt/js/dataTables.dataTables\"\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\"\nimport $ from 'jquery';\n\nimport 'datatables.net-buttons-dt'\nimport 'datatables.net-buttons/js/buttons.colVis.js'\nimport 'datatables.net-buttons/js/buttons.html5.js'\nimport 'datatables.net-buttons/js/buttons.print.js'\n\n        const{REACT_APP_HOST} = process.env;\nvar t_c = [];\nvar talleres_comp = [];\nvar usuario_nota_list = [];\nvar respuestas_consolidado = [];\n\nclass AdminResultados extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            talleres: [],\n            usuarios: [],\n            user_talleres: [],\n\n            //Modal\n            modalOpen: false,\n            puntuacion: '',\n\n            resultados: [],\n\n            //Para el consolidado\n            preguntas: [],\n            resultados_taller: [],\n\n            modalOpen_consolidadod: false,\n            \n            taller:'',\n            listaAreas:[],\n            area_id:'-1'\n        }\n\n\n\n    }\n    componentDidMount() {\n        this.getTalleres();\n        this.showAreas();\n        //initialize datatable\n\n    }\n\n    getTalleres() {\n        axios.get(`${REACT_APP_HOST}/api/talleres`).then((response) => {\n            this.setState({talleres: response.data})\n            this.getUsuarios();\n        })\n    }\n    \n    getTalleresXAreas(){\n        \n        if(this.state.area_id === '-1'){            \n            axios.get(`${REACT_APP_HOST}/api/talleres`).then((response) => {\n                this.setState({talleres: response.data})          \n            });\n        }else{\n            axios.post(`${REACT_APP_HOST}/api/talleres_ar/`+this.state.area_id).then(response => {\n            this.setState({talleres: response.data});\n//            console.log(response.data);\n            });         \n        }\n        \n         \n    }\n\n    getUsuarios() {\n        axios.get(`${REACT_APP_HOST}/api/users`).then((response) => {\n            this.setState({usuarios: response.data});\n            this.getUserTaller();\n        })\n    }\n\n    getUserTaller() {\n        axios.get(`${REACT_APP_HOST}/api/user_taller/`).then((response) => {\n            this.setState({user_talleres: response.data})\n//            console.log('======>> ' + response.data)\n            this.datatabla();\n            \n        })\n\n    }\n\n    usuarios_nota(id_taller) {\n        var  usuario_nota=[];\n        var  returnedobj=[];\n       \n        this.state.usuarios.map((data) => {\n            var puntuacion = '';\n            var estado = false;\n            this.state.user_talleres.map((data2) => {\n                if(data._id === data2.id_user && data2.id_taller===id_taller){\n                   estado=true;\n                   puntuacion = data2.puntuacion;\n                }\n            });\n            if(estado){\n                 returnedobj = Object.assign(data, {puntuacion: puntuacion});\n            }else{\n                returnedobj = Object.assign(data, {puntuacion: '-'});\n            }\n            usuario_nota.push(returnedobj);\n        });\n        usuario_nota_list=usuario_nota;\n    }\n\n    datatabla() {\n\n        $(document).ready(function () {\n            $('#resultados').DataTable({\n                language: {url: \"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json\"},\n                dom: \"<'row'<'col-sm-12 col-md-12 text-left'B>>\" +\n                        \"<'row'<'col-sm-12'tr>>\" +\n                        \"<'row'<'col-sm-12'tr>>\" +\n                        \"<'row'<'col-sm-12 my-1'>>\" +\n                        \"<'row'<'col-sm-12 col-md-5 text-left'l><'col-sm-12 col-md-7'f>>\" +\n                        \"<'row'<'col-sm-12'tr>>\" +\n                        \"<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>\",\n                buttons: [\n                    // 'copy', 'csv', 'excel', 'print'\n                    {\n                        extend: 'copy',\n                        text: 'Copiar',\n                        titleAttr: 'Copiar Tabla',\n                        className: 'btn btn-info btn-sm ',\n                    },\n                    {\n                        extend: 'csv',\n                        text: 'Excel',\n                        titleAttr: 'Copiar Tabla',\n                        className: 'btn btn-success btn-sm  ',\n                    },\n                    {\n                        extend: 'print',\n                        text: 'Imprimir',\n                        titleAttr: 'Copiar Tabla',\n                        className: 'btn btn-dark btn-sm  ',\n                    },\n                ]\n            });\n        });\n    }\n\n    marcarCompletado(user, index) {\n//        alert(user);\n        var taller_completado = [];\n        var returnedobj = [];\n        this.state.talleres.map((taller, i) => {\n            var estado = '0';\n            var puntuacion = '';\n            this.state.user_talleres.map((user_taller, j) => {\n                if (user === user_taller.id_user) {\n                    if (taller._id === user_taller.id_taller) {\n                        estado = '1';\n                        puntuacion = user_taller.puntuacion;\n                    }\n                }\n            })\n            if (estado === '1') {\n                returnedobj = Object.assign(taller, {estado: '1', puntuacion: puntuacion});\n//                console.log(user + '--' + taller._id + '--' + puntuacion + '  est:1')\n//                console.log(returnedobj)\n            } else {\n                returnedobj = Object.assign(taller, {estado: '0'});\n            }\n            taller_completado.push(returnedobj);\n\n        })\n//        console.log(taller_completado);\n\n        talleres_comp = taller_completado;\n//        console.log('--- ',talleres_comp)\n    }\n\n    getNotas(id_user, id_taller) {\n        axios.get(`${REACT_APP_HOST}/api/user_taller/` + id_user + '/' + id_taller + '/0').then((response) => {\n            if (response.data) {\n                this.setState({puntuacion: response.data.puntuacion});\n            }\n        })\n    }\n\n    //ABRE MODAL RESULTADOS\n    modalOpen(id_user, id_taller, puntuacion) {\n        this.getNotas(id_user, id_taller);\n        this.setState({modalOpen: true});\n        this.showResultados(id_user, id_taller);\n\n    }\n    showResultados(id_user, id_taller) {\n        axios.get(`${REACT_APP_HOST}/api/resultados/` + id_user + '/' + id_taller).then((response) => {\n            this.setState({resultados: response.data});\n        });\n    }\n\n    hideModalEval() {\n        this.setState({modalOpen: false});\n    }\n    //CIERRA MODAL RESULTADOS\n\n\n\n    //ABRE MODAL CONSOLIDADO\n    show_consolidado(id_taller) {\n\n        this.setState({modalOpen_consolidadod: true});\n        this.show_consolidado_data(id_taller);\n        \n    }\n\n    show_consolidado_data(taller_id) {\n        axios.get(`${REACT_APP_HOST}/api/preguntas/` + taller_id).then((response) => {\n            this.setState({preguntas: response.data, taller:taller_id});\n            this.get_resultados(taller_id);\n//            alert(this.state.taller);\n            this.usuarios_nota(this.state.taller);\n        });\n    }\n\n    get_resultados(taller_id) {\n\n        axios.get(`${REACT_APP_HOST}/api/resultados/` + taller_id).then((response) => {\n            this.setState({resultados_taller: response.data});\n\n        });\n\n    }\n\n    respuestas_user(id_user) {\n\n        var respuestas_consol = [];\n        this.state.preguntas.map((preg, i) => {\n            this.state.resultados_taller.map((resp, j) => {\n                if (preg._id === resp.id_preg && id_user === resp.id_user) {\n//                        alert(id_user+'  '+ preg.pregunta+'  : '+resp.resp)\n                    respuestas_consol.push(resp.resp);\n                }\n\n            })\n        });\n        respuestas_consolidado = respuestas_consol;\n\n    }\n    hideModal_consolidado() {\n        this.setState({modalOpen_consolidadod: false});\n    }\n    // CIERRA MODAL CONSOLIDADO\n\n  async showAreas(){\n     \n     const response= await axios.get(`${REACT_APP_HOST}/api/areas`);\n     if(response){\n         this.setState({listaAreas:response.data});\n     }\n     \n  }\n  handleChange=(e)=> {\n//        console.log(e.target.value);\n        if (e.target.type === 'checkbox') {\n            var value = e.target.checked;\n            var name = e.target.name;\n        } else {\n            var {name, value} = e.target;\n        }\n//       \n        this.setState({[name]: value});\n    }\n\n    render() {\n\n        return(\n                <div>\n                    <Navigation />\n                    {this.state.user_talleres.length > 0 ?\n                                    <div className=\"containerList my-3\" style={{overflowX: 'auto'}}> \n                                       \n                                        <div className=\" container-fluid col-md-12 row my-2 justify-content-center\">\n                                           \n                                                <select className=\"form-control col-md-4\" onChange={this.handleChange} name=\"area_id\" value={this.state.area_id}>\n                                                <option value=\"-1\" >Todas las reas</option>\n                                                {\n                                                    this.state.listaAreas.map((data)=>(\n                                                            <option key={data._id}  value={data._id}>{data.title}</option>\n                                                    ))\n                                                }\n                                                </select>                                             \n                                          \n                                                  <Button onClick={()=>{this.getTalleresXAreas()}}><FontAwesomeIcon icon={faSearch}/> Filtrar rea</Button>\n                                           \n                                        </div>\n                                        <table id='resultados' className='table table-nowrap' style={{fontSize: '15px'}}>\n                                            <thead >\n                                \n                                                <tr>\n                                \n                                                    <th></th>\n                                                    <th></th>\n                                                    {\n                                                        this.state.talleres.map((data, index) => (\n                                                            <th key={data._id}><button className=\"btn btn-success btn-sm\" onClick={() => {\n                                                                    this.show_consolidado(data._id)\n                                                                                    }}><FontAwesomeIcon icon={faFileDownload}/> Exportar</button></th>\n                                                        ))\n                                                    }\n                                \n                                                </tr>\n                                                <tr className='bg-dark text-white'>\n                                \n                                                    <th>USUARIO</th>\n                                                    <th>CEDULA</th>\n                                                    {\n                                                        this.state.talleres.map((data, index) => (\n                                                        <th key={data._id}>{data.title}</th>\n                                                    ))\n                                                    }\n                                \n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                \n                                                {\n                                        this.state.usuarios.map((data, index) => (\n                                                                <tr key={data._id}>\n                                                                    <td>{data.nombre}{' '}{data.apellido}</td>\n                                                                    <td>{data.cedula}</td>\n                                                                    {this.marcarCompletado(data._id, index)}\n                                                                    {\n                                                                                        talleres_comp.map((data2) => (\n                                                                                                    <td key={data2._id}>\n                                                                                                        {data2.estado === '1' ? <a href='#' onClick={() => {\n                                                                                                                                                                        this.modalOpen(data._id, data2._id)\n                                                                                                                                            }}><span className=' text-success'>Completo {data2.puntuacion} <FontAwesomeIcon icon={faCheckCircle} /></span></a>\n                                                                                                                                    : <span className='text-warning badge'>En curso <FontAwesomeIcon icon={faExclamationCircle} /></span>}\n                                                                                                    </td>\n\n                                                                                ))\n                                                                    }\n                                                                </tr>\n                                                    ))\n                                                }\n                                \n                                            </tbody>\n                                        </table>\n                                    </div>\n                            : <h5 className=\"text-warning\">! No se ha gerenado ninguna capacitacion para poder mostrar resultados <FontAwesomeIcon icon={faExclamationTriangle}/></h5>}  \n                    <Modal isOpen={this.state.modalOpen} size='lg'>\n                        <div className='p-2 border'>\n                            <Row>\n                                <Col xs='11'>\n                                <h4>Resultados de La evaluacin  <span className='badge bg-success text-white'>{this.state.puntuacion}/10</span></h4>\n                                </Col>\n                                <Col xs='1'>\n                                    <Button color=\"danger\" size=\"sm\" onClick={() => { this.hideModalEval(); }}>X</Button>                                                                        \n                                </Col>\n                            </Row>\n                        </div>  \n                        <ModalBody>\n                            <div className=\"col-md-12\">\n                                {\n                        this.state.resultados.map((data, index)=>{\n                        return(\n                                                            <Container key={data._id} >  \n                                        <label>{index +1+')'} {data.preg_taller.pregunta}</label><br/>\n                                        {data.estado_resp ==='1'?\n                                                                                        <span className=\"text-success\"><label className='ml-5'>{data.resp}</label></span>\n\n                                                                                        :\n                                                                                                        <span className=\"text-danger font-weight-bold\"><label className='ml-5'>{data.resp}</label></span>\n                                                            }                                      \n                                                        </Container>\n                                );\n                    })\n                                }\n                            </div>\n                        </ModalBody>\n                    </Modal>\n                \n                \n                    <Modal isOpen={this.state.modalOpen_consolidadod} style={{maxWidth: '1300px', width: '100%'}} >\n                        <div className=\"col-md-12 row\"> \n                        <div className=\"col-md-10\"> \n                            <ReactHTMLTableToExcel\n                                id=\"btn-export-excel\"\n                                className=\"btn btn-success\"\n                                table=\"consolidado\"\n                                filename=\"Consolidado de Respuestas\"\n                                sheet=\"HOJA 1\"\n                                buttonText=\"Descargar Archivo XLS\"/>\n                        </div>  \n                        <div className=\"col-md-2\"> \n                            <div className=\"my-2 text-right\"><Button color=\"danger\" size=\"sm\" onClick={() => { this.hideModal_consolidado(); }}><FontAwesomeIcon icon={faTimesCircle}/></Button> </div>                         \n                        </div>  \n                        </div>  \n                        <ModalBody>\n                        \n                            <div className=\" my-3\" style={{overflowX: 'auto'}}>                                            \n                                <table id='consolidado' className='table table-nowrap' style={{fontSize:'11px'}}>\n                                    <thead className='bg-dark text-white' >\n\n                                        <tr>\n\n                                            <th>USUARIO</th>\n                                            <th>CEDULA</th>\n                                            <th className=\"bg-info text-center\">NOTA</th>\n                                            {\n                                                this.state.preguntas.map((data, index) => (\n                                                    <th key={data._id}>{data.pregunta}</th>\n                                                ))\n                                            }\n\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {\n                                            usuario_nota_list.map((data, index) => (\n                                                    <tr key={data._id}>\n                                                        <td>{data.nombre}{' '}{data.apellido}</td>\n                                                        <td>{data.cedula}</td>\n                                                        <td className=\"bg-info text-center text-white\">{data.puntuacion}</td>\n                                                        {this.respuestas_user(data._id, index)}\n                                                        {\n                                                        respuestas_consolidado.map((data2, j) => (\n                                                                                                            <td key={j}> {data2}</td>\n                                                                    ))\n                                                        }\n                                                    </tr>\n                                            ))\n                                        }\n\n                                    </tbody>\n\n                                </table>\n                            </div>\n                \n                        </ModalBody>\n                \n                        <div className=\"my-2 text-center\"><Button color=\"danger\" size=\"sm\" onClick={() => {\n                        this.hideModal_consolidado();\n                    }}><FontAwesomeIcon icon={faTimesCircle}/> Close</Button> </div>                                                                       \n                \n                    </Modal>\n                </div>\n\n                );\n    }\n}\n\nexport default AdminResultados;"]},"metadata":{},"sourceType":"module"}